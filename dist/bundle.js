!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);class s{constructor(e){if(this.keysBindings={},this.mousedownCallout=void 0,void 0!==e&&e.hasOwnProperty("pointerLock")&&e.pointerLock){if(void 0===e.canvas)throw"In order to utilize pointer lock, provide convas in options!";this.useMouse=!1,this.bindPointer(e.canvas,e.pointerCallout)}this.createEventListeners()}bindKeys(e,t){if(!Array.isArray(e))throw"Keys parameter should be an Array!";for(let i=0;i<e.length;i++)this.keysBindings[e[i]]=t}bindKey(e,t){if("String"!=typeof keys)throw"Key parameter should be String!";this.keysBindings[keys]=t}bindMousedown(e){this.mousedownCallout=e}createEventListeners(){let e=this;document.addEventListener("keydown",function(t){t=t||window.event,e.keysBindings.hasOwnProperty(t.keyCode)&&e.keysBindings[t.keyCode]()}),document.addEventListener("mousedown",function(t){t=t||window.event,void 0!==e.mousedownCallout&&e.mousedownCallout()})}bindPointer(e,t){let i=this;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock,document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock,e.onclick=function(){i.useMouse=!0,e.requestPointerLock()},document.addEventListener("pointerlockchange",function(s){i.lockChange(e,t)},!1),document.addEventListener("mozpointerlockchange",function(s){i.lockChange(e,t)},!1)}lockChange(e,t){let i=this;document.pointerLockElement===e||document.mozPointerLockElement===e?(console.log("The pointer lock status is now locked"),document.addEventListener("mousemove",function(e){i.useMouse&&t(e)},!1)):(console.log("The pointer lock status is now unlocked"),i.useMouse=!1)}}class n{static shadeBlendConvert(e,t,i){if("number"!=typeof e||e<-1||e>1||"string"!=typeof t||"r"!=t[0]&&"#"!=t[0]||"string"!=typeof i&&void 0!==i)return null;var s=parseInt,r=Math.round,a=t.length>9,o=(a="string"==typeof i?i.length>9||"c"==i&&!a:a,e<0),l=(e=o?-1*e:e,i=i&&"c"!=i?i:o?"#000000":"#FFFFFF",n.sbcRip(t,s)),h=n.sbcRip(i,s);return l&&h?a?"rgb("+r((h[0]-l[0])*e+l[0])+","+r((h[1]-l[1])*e+l[1])+","+r((h[2]-l[2])*e+l[2])+(l[3]<0&&h[3]<0?")":","+(l[3]>-1&&h[3]>-1?r(1e4*((h[3]-l[3])*e+l[3]))/1e4:h[3]<0?l[3]:h[3])+")"):"#"+(4294967296+16777216*(l[3]>-1&&h[3]>-1?r(255*((h[3]-l[3])*e+l[3])):h[3]>-1?r(255*h[3]):l[3]>-1?r(255*l[3]):255)+65536*r((h[0]-l[0])*e+l[0])+256*r((h[1]-l[1])*e+l[1])+r((h[2]-l[2])*e+l[2])).toString(16).slice(l[3]>-1||h[3]>-1?1:3):null}static sbcRip(e,t){var i=e.length,s=new Object;if(i>9){if((e=e.split(",")).length<3||e.length>4)return null;s[0]=t(e[0].slice(4)),s[1]=t(e[1]),s[2]=t(e[2]),s[3]=e[3]?parseFloat(e[3]):-1}else{if(8==i||6==i||i<4)return null;i<6&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+(i>4?e[4]+""+e[4]:"")),e=t(e.slice(1),16),s[0]=e>>16&255,s[1]=e>>8&255,s[2]=255&e,s[3]=9==i||5==i?r((e>>24&255)/255*1e4)/1e4:-1}return s}}class a{constructor(e){this.name=e,this.loaded=!1}isComplete(){return this.loaded}}class o extends a{constructor(e,t){super(e),this.image=new Image,this.image.src=t}isComplete(){return this.loaded=this.image.complete,this.loaded}}let l=[],h=!0,c=function(e){let t=l.filter(t=>t.name===e);return t&&0!==t.length?t[0]:null},p=function(e){return l.filter(e=>e.isComplete()).length===l.length&&h},d=function(e){h=e};class f{constructor(e,t){this.parentElement=e,this.options={resDecrease:1,canvasId:"mainScreen"},Object.assign(this.options,t),this.canvas=document.createElement("canvas"),this.canvas.setAttribute("width",document.body.clientWidth),this.canvas.setAttribute("height",document.body.scrollHeight),this.canvas.setAttribute("id",this.options.canvasId),this.parentElement.appendChild(this.canvas),this.context=this.canvas.getContext("2d"),this.nCeiling=0,this.nFloor=0,this.offScreen=!1,this.yAngle=0}getWidth(){return this.canvas.width/this.options.resDecrease}getHeight(){return this.canvas.height/this.options.resDecrease}setFillStyle(e){this.context.fillStyle=e}clearAll(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}renderGlobals(){let e=this.canvas.height/2+this.yAngle;this.context.fillStyle="rgb(44, 107, 255)",this.context.fillRect(0,0,this.canvas.width,this.canvas.height);var t=this.context.createLinearGradient(0,this.canvas.height,0,e);t.addColorStop(0,"rgb(147, 67, 2)"),t.addColorStop(.65,n.shadeBlendConvert(-.8,"rgb(147, 67, 2)")),t.addColorStop(1,"rgb(0, 0, 0)"),this.context.fillStyle=t,this.context.fillRect(0,e,this.canvas.width,this.canvas.height-e),this.context.fillStyle="black"}renderImage(e,t,i,s,n,r){let a=this.getRenderContext();this.shouldImageBeRendered(r)&&a.drawImage(c(e.i).image,e.X,e.Y,e.W,e.H,t,i+this.yAngle,s,n),void 0!==r&&r.hasOwnProperty("shadeLevel")&&(a.fillStyle="rgba(0, 0, 0, "+r.shadeLevel+")",a.fillRect(t,i+this.yAngle,s,n))}renderUnicodeAsset(e,t,i,s,n,r,a,o,l){let h=this.getRenderContext();for(let c=0;c<e.rows;c++)for(let p=0;p<e.cols;p++){let d=s/e.cols,f=n/e.rows,u=Math.round(r+p-e.cols/2);if(u>=0&&u<this.getWidth()&&"."!==e.getCharAt(c,p)&&o[u]>=a){o[u]=a;let s=t+p*d,n=i+c*f;h.fillStyle=e.getCharAt(c,p),h.fillRect(s,n+this.yAngle,d,f),h.fillStyle="rgba(0, 0, 0, "+l+")",h.fillRect(s,n+this.yAngle,d,f)}}}getRenderContext(){return this.offScreen?this.canvas.offscreenContext:this.context}shouldImageBeRendered(e){return void 0===e||void 0!==e&&e.hasOwnProperty("shadeLevel")&&e.shadeLevel<.99}renderRect(e,t,i,s){this.context.fillRect(e,t,i,s)}renderLine(e,t){this.context.beginPath(),this.context.moveTo(e[0].x,e[0].y);for(let t=1;t<e.length;t++)this.context.lineTo(e[t].x,e[t].y);this.context.strokeStyle=t,this.context.stroke()}beginOffScreen(){this.canvas.offscreenCanvas=document.createElement("canvas"),this.canvas.offscreenCanvas.width=this.getWidth(),this.canvas.offscreenCanvas.height=this.getWidth(),this.canvas.offscreenContext=this.canvas.offscreenCanvas.getContext("2d"),this.offScreen=!0}endOffScreen(){this.context.drawImage(this.canvas.offscreenCanvas,0,0),this.offScreen=!1}}class u{constructor(e,t){this.renderer=new f(document.getElementById("container"),{canvasId:"uiScreen"}),this.map=e,this.player=t,this.minimapOffset={x:40,y:40},this.minimapScale=4,l.push(new o("gun_sprite","./sprites/shotgun.png"))}drawMiniMap(e,t){this.renderer.setFillStyle("white");for(let e=0;e<this.map.mapWidth;e++)for(let i=0;i<this.map.mapHeight;i++)"#"===this.map.surface[i*this.map.mapWidth+e]&&this.renderer.renderRect(e*this.minimapScale+this.minimapOffset.x,i*this.minimapScale+this.minimapOffset.y,this.minimapScale,this.minimapScale),t.filter(t=>t.x===e&&t.y===i).length>0&&(this.renderer.setFillStyle("yellow"),this.renderer.renderRect(e*this.minimapScale+this.minimapOffset.x,i*this.minimapScale+this.minimapOffset.y,this.minimapScale,this.minimapScale),this.renderer.setFillStyle("white"));this.renderer.setFillStyle("red"),this.renderer.renderRect(this.player.posX*this.minimapScale+this.minimapOffset.x,this.player.posY*this.minimapScale+this.minimapOffset.y,2,2),this.renderer.renderLine([{x:this.player.posX*this.minimapScale+this.minimapOffset.x,y:this.player.posY*this.minimapScale+this.minimapOffset.y},{x:Math.floor(this.player.posX+5*e.x)*this.minimapScale+this.minimapOffset.x,y:Math.floor(this.player.posY+5*e.y)*this.minimapScale+this.minimapOffset.y}],"red"),this.renderer.setFillStyle("black")}async drawUI(e,t){this.renderer.clearAll(),this.drawMiniMap(e,t),this.renderer.setFillStyle("white"),this.renderer.renderRect(this.renderer.getWidth()/2-15,this.renderer.getHeight()/2-2,30,4),this.renderer.renderRect(this.renderer.getWidth()/2-2,this.renderer.getHeight()/2-15,4,30)}}let m=function(){var e=0,t=document.createElement("div");function i(e){return t.appendChild(e.dom),e}function s(i){for(var s=0;s<t.children.length;s++)t.children[s].style.display=s===i?"block":"none";e=i}t.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",t.addEventListener("click",function(i){i.preventDefault(),s(++e%t.children.length)},!1);var n=(performance||Date).now(),r=n,a=0,o=i(new m.Panel("FPS","#0ff","#002")),l=i(new m.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var h=i(new m.Panel("MB","#f08","#201"));return s(0),{REVISION:16,dom:t,addPanel:i,showPanel:s,begin:function(){n=(performance||Date).now()},end:function(){a++;var e=(performance||Date).now();if(l.update(e-n,200),e>=r+1e3&&(o.update(1e3*a/(e-r),100),r=e,a=0,h)){var t=performance.memory;h.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){n=this.end()},domElement:t,setMode:s}};m.Panel=function(e,t,i){var s=1/0,n=0,r=Math.round,a=r(window.devicePixelRatio||1),o=80*a,l=48*a,h=3*a,c=2*a,p=3*a,d=15*a,f=74*a,u=30*a,m=document.createElement("canvas");m.width=o,m.height=l,m.style.cssText="width:80px;height:48px";var y=m.getContext("2d");return y.font="bold "+9*a+"px Helvetica,Arial,sans-serif",y.textBaseline="top",y.fillStyle=i,y.fillRect(0,0,o,l),y.fillStyle=t,y.fillText(e,h,c),y.fillRect(p,d,f,u),y.fillStyle=i,y.globalAlpha=.9,y.fillRect(p,d,f,u),{dom:m,update:function(l,g){s=Math.min(s,l),n=Math.max(n,l),y.fillStyle=i,y.globalAlpha=1,y.fillRect(0,0,o,d),y.fillStyle=t,y.fillText(r(l)+" "+e+" ("+r(s)+"-"+r(n)+")",h,c),y.drawImage(m,p+a,d,f-a,u,p,d,f-a,u),y.fillRect(p+f-a,d,a,u),y.fillStyle=i,y.globalAlpha=.9,y.fillRect(p+f-a,d,a,r((1-l/g)*u))}}};const y={mapHeight:32,mapWidth:32,surface:""};y.surface="#########.......#########.......",y.surface+="#...............#...............",y.surface+="#.......#########.......########",y.surface+="#..............##..............#",y.surface+="#......##......##......##......#",y.surface+="#......##..............##......#",y.surface+="#..............##..............#",y.surface+="###............####............#",y.surface+="##.............###.............#",y.surface+="#............####............###",y.surface+="#..............................#",y.surface+="#..............##..............#",y.surface+="#..............##..............#",y.surface+="#...........#####...........####",y.surface+="#..............................#",y.surface+="###..####....########....#######",y.surface+="####.####.......######..........",y.surface+="#...............#...............",y.surface+="#.......#########.......##..####",y.surface+="#..............##..............#",y.surface+="#......##......##.......#......#",y.surface+="#......##......##......##......#",y.surface+="#..............##..............#",y.surface+="###............####............#",y.surface+="##.............###.............#",y.surface+="#............####............###",y.surface+="#..............................#",y.surface+="#..............................#",y.surface+="#..............##..............#",y.surface+="#...........##..............####",y.surface+="#..............##..............#",y.surface+="################################";class g{constructor(e,t,i,s,n){this.x=e,this.y=t,this.vx=i,this.vy=s,this.remove=!1,null!=n&&(this.asset=c(n))}remove(){this.remove=!0}}class v extends a{constructor(e,t,i){super(e),this.charmap=t,this.loaded=!0,this.rows=this.charmap.length,this.cols=this.charmap[0].length,this.scale=i||10}getCharAt(e,t){return this.charmap[e][t]}setCharAt(e,t,i){this.charmap[e][t]=i}getHeight(){return this.rows*this.scale}getWidth(){return this.cols*this.scale}}class x{constructor(){}static loadJSON(e,t){var i=new XMLHttpRequest;i.overrideMimeType("application/json"),i.open("GET",e,!0),i.onreadystatechange=function(){4==i.readyState&&"200"==i.status&&t(i.responseText)},i.send(null)}}class S{constructor(e,t,i){this.stats=!!i,this.renderer=new f(e,t),this.callback,this.callbackContext,this.callback=void 0,this.callbackContext=void 0}mainLoop(){this.useStats&&this.stats.begin(),this.callback.call(this.callbackContext),this.useStats&&this.stats.end(),requestAnimationFrame(this.mainLoop.bind(this))}start(e){p()?(e&&e(),this.mainLoop()):setTimeout(()=>{this.start(e)},100)}}new(function(){function e(){var e=this;this.engine=new S(document.getElementById("container"),null,!0),this.stats=m,this.stats.showPanel(0),document.body.appendChild(this.stats.dom),this.renderer=this.engine.renderer,this.fFOV=Math.PI/4,this.fSpeed=2,this.fDepth=25,this.screenWidth=this.renderer.getWidth(),this.screenHeight=this.renderer.getHeight(),this.fDepthBuffer=[],this.player={posX:7.183800517628895,posY:9.920172052706125,angle:.5000000000000023,yAngle:0},this.map=y,this.ui=new u(this.map,this.player),this.middleCorrdinates={},l.push(new o("wall_sprite","./sprites/wall3.bmp")),l.push(new o("lamp","./sprites/lamp-min2.png")),this.units=[],d(!1),x.loadJSON("../assets/objects/lamp.json",function(t){l.push(new v("lamp_cm",JSON.parse(t),.5)),e.units.push(new g(11,14,0,0,"lamp_cm")),x.loadJSON("../assets/objects/rocket.json",function(e){l.push(new v("rocket",JSON.parse(e),.5)),d(!0)})}),this.engine.callback=this.move,this.engine.callbackContext=self,this.engine.start(function(){e.createControls()})}return e.prototype.move=function(){this.renderer.yAngle=this.player.yAngle,this.renderer.renderGlobals(),this.renderer.beginOffScreen(),this.mainScreen(0,this.screenWidth),this.handleObjects(),this.renderer.endOffScreen(),this.ui.drawUI(this.middleCorrdinates,this.units)},e.prototype.mainScreen=function(e,t){for(var i=0,s=0,n=0,r=!1,a=0,o=0,l=0,h=0,c=e;c<t;c++){i=this.player.angle-this.fFOV/2+c/this.screenWidth*this.fFOV,s=.05,n=0,r=!1,a=Math.sin(i),o=Math.cos(i),c===t/2&&(this.middleCorrdinates={x:a,y:o});for(var p=0;!r&&n<this.fDepth;)if(n+=s,l=Math.floor(this.player.posX+a*n),h=Math.floor(this.player.posY+o*n),l<0||l>=this.map.mapWidth||h<0||h>=this.map.mapHeight)r=!0,n=this.fDepth;else if("#"===this.map.surface[Math.round(l*this.map.mapWidth+h)]){r=!0;var d=l+.5,f=h+.5,u=this.player.posX+a*n,m=this.player.posY+o*n,y=Math.atan2(m-f,u-d);y>=-.7853975&&y<.7853975&&(p=m-h),y>=.7853975&&y<3.14159*.75&&(p=u-l),y<-.7853975&&y>=.75*-3.14159&&(p=u-l),(y>=3.14159*.75||y<.75*-3.14159)&&(p=m-h)}p*=100,p=Math.floor(p/(100/288)),this.nCeiling=this.screenHeight/2-this.screenHeight/n,this.nFloor=this.screenHeight-this.nCeiling;var g=(.1*n).toFixed(2);this.fDepthBuffer[c]=n;for(var v=0,x=-1,S=0;S<this.screenHeight;S++)S<=this.nCeiling||S>this.nCeiling&&S<=this.nFloor&&(v+=1,x=-1===x?S:x);this.renderer.renderImage({X:p,Y:0,W:1,H:288,i:"wall_sprite"},c,x,1,v,{shadeLevel:g})}},e.prototype.handleObjects=function(){for(var e=0;e<this.units.length;e++){var t=this.units[e];t.x+=.5*t.vx,t.y+=.5*t.vy,"#"===this.map.surface[t.x*this.map.mapWidth+t.y]&&t.remove();var i=t.x-this.player.posX,s=t.y-this.player.posY,n=Math.hypot(i,s),r=Math.sin(this.player.angle),a=Math.cos(this.player.angle),o=Math.atan2(a,r)-Math.atan2(s,i);o<-Math.PI&&(o+=2*Math.PI),o>Math.PI&&(o-=2*Math.PI);var l=Math.abs(o)<this.fFOV/2,h=(.1*n).toFixed(2);if(l&&n>=.5&&n<this.fDepth&&!t.remove){var c=this.screenHeight/2-this.screenHeight/n,p=this.screenHeight-c-c,d=p/(t.asset.getHeight()/t.asset.getWidth()),f=(o/(this.fFOV/2)*.5+.5)*this.screenWidth;this.renderer.renderUnicodeAsset(t.asset,f-d/2,c,d,p,f,n,this.fDepthBuffer,h)}}},e.prototype.createControls=function(){var e=this;this.controls=new s({pointerLock:!0,canvas:this.renderer.canvas,pointerCallout:function(t){e.updatePosition(t)}}),this.controls.bindKeys(["38","87"],function(){e.player.posX+=e.calcNextPlayerPositionX(),e.player.posY+=e.calcNextPlayerPositionY(),e.checkForWall()&&(e.player.posX-=e.calcNextPlayerPositionX(),e.player.posY-=e.calcNextPlayerPositionY())}),this.controls.bindKeys(["40","83"],function(){e.player.posX-=e.calcNextPlayerPositionX(),e.player.posY-=e.calcNextPlayerPositionY(),e.checkForWall()&&(e.player.posX+=e.calcNextPlayerPositionX(),e.player.posY+=e.calcNextPlayerPositionY())}),this.controls.bindKeys(["37","65"],function(){e.player.posX+=e.calcNextPlayerPositionX(),e.player.posY-=e.calcNextPlayerPositionY(),e.checkForWall()&&(e.player.posX-=e.calcNextPlayerPositionX(),e.player.posY+=e.calcNextPlayerPositionY())}),this.controls.bindKeys(["39","68"],function(){e.player.posX-=e.calcNextPlayerPositionX(),e.player.posY+=e.calcNextPlayerPositionY(),e.checkForWall()&&(e.player.posX+=e.calcNextPlayerPositionX(),e.player.posY-=e.calcNextPlayerPositionY())}),this.controls.bindMousedown(function(){var t=.8*Math.sin(e.player.angle),i=.8*Math.cos(e.player.angle);e.units.push(new g(e.player.posX,e.player.posX,t,i,"rocket"))})},e.prototype.calcNextPlayerPositionX=function(){return Math.sin(this.player.angle)*this.fSpeed*.1},e.prototype.calcNextPlayerPositionY=function(){return Math.cos(this.player.angle)*this.fSpeed*.1},e.prototype.checkForWall=function(){return"#"===this.map.surface[Math.floor(this.player.posX)*this.map.mapWidth+Math.floor(this.player.posY)]},e.prototype.updatePosition=function(e){e.movementX>0&&(this.player.angle+=.005*e.movementX),e.movementX<0&&(this.player.angle+=.005*e.movementX),e.movementY>0&&(this.player.yAngle+=1*e.movementY),e.movementY<0&&(this.player.yAngle+=1*e.movementY)},e}())}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbnRyb2xzLmpzIiwid2VicGFjazovLy8uL3NyYy9SZW5kZXJpbmcvVmlzdWFsVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Fzc2V0LmpzIiwid2VicGFjazovLy8uL3NyYy9SZW5kZXJpbmcvSW1hZ2VBc3NldC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvR2xvYmFscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvUmVuZGVyaW5nL1JlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL3NyYy9VSS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVXRpbHMvU3RhdHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVW5pdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvUmVuZGVyaW5nL1VuaWNvZGVBc3NldC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRmlsZUxvYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvTm90M0QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4udHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJDb250cm9scyIsIltvYmplY3QgT2JqZWN0XSIsIm9wdGlvbnMiLCJ0aGlzIiwia2V5c0JpbmRpbmdzIiwibW91c2Vkb3duQ2FsbG91dCIsInVuZGVmaW5lZCIsInVzZU1vdXNlIiwiYmluZFBvaW50ZXIiLCJjcmVhdGVFdmVudExpc3RlbmVycyIsImtleXMiLCJjYWxsb3V0IiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwic2VsZiIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJ3aW5kb3ciLCJldmVudCIsImtleUNvZGUiLCJjYW52YXMiLCJwb2ludGVyQ2FsbG91dCIsInJlcXVlc3RQb2ludGVyTG9jayIsIm1velJlcXVlc3RQb2ludGVyTG9jayIsImV4aXRQb2ludGVyTG9jayIsIm1vekV4aXRQb2ludGVyTG9jayIsIm9uY2xpY2siLCJsb2NrQ2hhbmdlIiwicG9pbnRlckxvY2tFbGVtZW50IiwibW96UG9pbnRlckxvY2tFbGVtZW50IiwiY29uc29sZSIsImxvZyIsIlZpc3VhbFV0aWxzIiwiZnJvbSIsInRvIiwicGFyc2VJbnQiLCJNYXRoIiwicm91bmQiLCJoIiwiYiIsImYiLCJzYmNSaXAiLCJ0b1N0cmluZyIsInNsaWNlIiwiUkdCIiwic3BsaXQiLCJwYXJzZUZsb2F0IiwiQXNzZXQiLCJsb2FkZWQiLCJJbWFnZUFzc2V0X0ltYWdlQXNzZXQiLCJzcmMiLCJzdXBlciIsImltYWdlIiwiSW1hZ2UiLCJjb21wbGV0ZSIsIkdMT0JBTF9BU1NFVFMiLCJBTExfTE9BREVEIiwiR2V0QXNzZXQiLCJyZXN1bHQiLCJmaWx0ZXIiLCJhc3NldCIsIkFyZUFsbEFzc2V0c0xvYWRlZCIsImlzQ29tcGxldGUiLCJTZXRBbGxMb2FkZWQiLCJSZW5kZXJlcl9SZW5kZXJlciIsInBhcmVudEVsZW1lbnQiLCJyZXNEZWNyZWFzZSIsImNhbnZhc0lkIiwiYXNzaWduIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImJvZHkiLCJjbGllbnRXaWR0aCIsInNjcm9sbEhlaWdodCIsImFwcGVuZENoaWxkIiwiY29udGV4dCIsImdldENvbnRleHQiLCJuQ2VpbGluZyIsIm5GbG9vciIsIm9mZlNjcmVlbiIsInlBbmdsZSIsIndpZHRoIiwiaGVpZ2h0IiwiY29sb3IiLCJmaWxsU3R5bGUiLCJjbGVhclJlY3QiLCJtaWRkbGVMaW5lIiwiZmlsbFJlY3QiLCJsaW5lYXJHcmFkaWVudDEiLCJjcmVhdGVMaW5lYXJHcmFkaWVudCIsImFkZENvbG9yU3RvcCIsInNoYWRlQmxlbmRDb252ZXJ0Iiwic3BhY2VYIiwic3BhY2VZIiwic3BhY2VXaWR0aCIsInNwYWNlSGVpZ2h0IiwicmVuZGVyQ29udGV4dCIsImdldFJlbmRlckNvbnRleHQiLCJzaG91bGRJbWFnZUJlUmVuZGVyZWQiLCJkcmF3SW1hZ2UiLCJYIiwiWSIsIlciLCJIIiwiZk1pZGRsZU9mT2JqZWN0IiwiZkRpc3RhbmNlRnJvbVBsYXllciIsImZEZXB0aEJ1ZmZlciIsInNoYWRlTGV2ZWwiLCJseSIsInJvd3MiLCJseCIsImNvbHMiLCJwcm9wb3J0aWFsV2lkdGgiLCJwcm9wb3J0aWFsSGVpZ2h0Iiwibk9iamVjdENvbHVtbiIsImdldFdpZHRoIiwiZ2V0Q2hhckF0IiwicmVuZGVyWCIsInJlbmRlclkiLCJvZmZzY3JlZW5Db250ZXh0IiwieCIsInkiLCJ3IiwiY29vcmRpbmF0ZXMiLCJsaW5lQ29sb3IiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2VTdHlsZSIsInN0cm9rZSIsIm9mZnNjcmVlbkNhbnZhcyIsIlVJX1VJIiwibWFwIiwicGxheWVyIiwicmVuZGVyZXIiLCJnZXRFbGVtZW50QnlJZCIsIm1pbmltYXBPZmZzZXQiLCJtaW5pbWFwU2NhbGUiLCJwdXNoIiwibWlkZGxlQ29ycmRpbmF0ZXMiLCJ1bml0cyIsInNldEZpbGxTdHlsZSIsIm54IiwibWFwV2lkdGgiLCJueSIsIm1hcEhlaWdodCIsInN1cmZhY2UiLCJyZW5kZXJSZWN0IiwidSIsInBvc1giLCJwb3NZIiwicmVuZGVyTGluZSIsImZsb29yIiwiY2xlYXJBbGwiLCJkcmF3TWluaU1hcCIsImdldEhlaWdodCIsIlN0YXRzIiwiY29udGFpbmVyIiwiYWRkUGFuZWwiLCJwYW5lbCIsImRvbSIsInNob3dQYW5lbCIsImlkIiwiY2hpbGRyZW4iLCJzdHlsZSIsImRpc3BsYXkiLCJjc3NUZXh0IiwicHJldmVudERlZmF1bHQiLCJiZWdpblRpbWUiLCJwZXJmb3JtYW5jZSIsIkRhdGUiLCJub3ciLCJwcmV2VGltZSIsImZyYW1lcyIsImZwc1BhbmVsIiwiUGFuZWwiLCJtc1BhbmVsIiwibWVtb3J5IiwibWVtUGFuZWwiLCJSRVZJU0lPTiIsImJlZ2luIiwiZW5kIiwidGltZSIsInVwZGF0ZSIsInVzZWRKU0hlYXBTaXplIiwianNIZWFwU2l6ZUxpbWl0IiwiZG9tRWxlbWVudCIsInNldE1vZGUiLCJmZyIsImJnIiwibWluIiwiSW5maW5pdHkiLCJtYXgiLCJQUiIsImRldmljZVBpeGVsUmF0aW8iLCJXSURUSCIsIkhFSUdIVCIsIlRFWFRfWCIsIlRFWFRfWSIsIkdSQVBIX1giLCJHUkFQSF9ZIiwiR1JBUEhfV0lEVEgiLCJHUkFQSF9IRUlHSFQiLCJmb250IiwidGV4dEJhc2VsaW5lIiwiZmlsbFRleHQiLCJnbG9iYWxBbHBoYSIsIm1heFZhbHVlIiwibWFwMSIsIlVuaXRfVW5pdCIsInZ4IiwidnkiLCJyZW1vdmUiLCJVbmljb2RlQXNzZXRfVW5pY29kZUFzc2V0IiwiY2hhcm1hcCIsInNjYWxlIiwicm93IiwiY29sIiwiY2hhciIsIkZpbGVMb2FkZXIiLCJmaWxlTmFtZSIsImNhbGxiYWNrIiwieG9iaiIsIlhNTEh0dHBSZXF1ZXN0Iiwib3ZlcnJpZGVNaW1lVHlwZSIsIm9wZW4iLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwicmVzcG9uc2VUZXh0Iiwic2VuZCIsIk5vdDNEX05vdDNEIiwiZHJpdmVyIiwic3RhdHMiLCJjYWxsYmFja0NvbnRleHQiLCJ1c2VTdGF0cyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1haW5Mb29wIiwic2V0VGltZW91dCIsInN0YXJ0IiwiR2FtZSIsIl90aGlzIiwiZW5naW5lIiwiZkZPViIsIlBJIiwiZlNwZWVkIiwiZkRlcHRoIiwic2NyZWVuV2lkdGgiLCJzY3JlZW5IZWlnaHQiLCJhbmdsZSIsInVpIiwibG9hZEpTT04iLCJqc29uVGV4dCIsIkpTT04iLCJwYXJzZSIsIm1vdmUiLCJjcmVhdGVDb250cm9scyIsInJlbmRlckdsb2JhbHMiLCJiZWdpbk9mZlNjcmVlbiIsIm1haW5TY3JlZW4iLCJoYW5kbGVPYmplY3RzIiwiZW5kT2ZmU2NyZWVuIiwiZHJhd1VJIiwiZlJheUFuZ2xlIiwic3RlcFNpemUiLCJkaXN0YW5jZVRvV2FsbCIsImJIaXRXYWxsIiwiZXllWCIsImV5ZVkiLCJuVGVzdFgiLCJuVGVzdFkiLCJzaW4iLCJjb3MiLCJmU2FtcGxlWCIsImZCbG9ja01pZFgiLCJmQmxvY2tNaWRZIiwiZlRlc3RQb2ludFgiLCJmVGVzdFBvaW50WSIsImZUZXN0QW5nbGUiLCJhdGFuMiIsInRvRml4ZWQiLCJoZWlnaHRUb0RyYXciLCJmaXJzdFkiLCJyZW5kZXJJbWFnZSIsImZWZWNYIiwiZlZlY1kiLCJoeXBvdCIsImZFeWVYIiwiZkV5ZVkiLCJmT2JqZWN0QW5nbGUiLCJiSW5QbGF5ZXJGT1YiLCJhYnMiLCJmT2JqZWN0Q2VpbGluZyIsImZPYmplY3RIZWlnaHQiLCJmT2JqZWN0V2lkdGgiLCJyZW5kZXJVbmljb2RlQXNzZXQiLCJjb250cm9scyIsInBvaW50ZXJMb2NrIiwidXBkYXRlUG9zaXRpb24iLCJiaW5kS2V5cyIsImNhbGNOZXh0UGxheWVyUG9zaXRpb25YIiwiY2FsY05leHRQbGF5ZXJQb3NpdGlvblkiLCJjaGVja0ZvcldhbGwiLCJiaW5kTW91c2Vkb3duIiwibW92ZW1lbnRYIiwibW92ZW1lbnRZIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FI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RyxLQUFLb0gsTUFBTXZKLEtBQUtvSSxPQUFPZ0IsTUFBUXBKLEtBQUttSSxJQUFJVyxTQUFXM0csS0FBS29ILE1BQU12SixLQUFPb0ksT0FBT2lCLFFBR3hHMEYsRUFBQXRQLFVBQUFnVCxlQUFBLFNBQWUxUixHQUNSQSxFQUFFZ1MsVUFBWSxJQUNiL1MsS0FBS29JLE9BQU9vSCxPQUF5QixLQUFmek8sRUFBVyxXQUVsQ0EsRUFBRWdTLFVBQVksSUFDYi9TLEtBQUtvSSxPQUFPb0gsT0FBMEIsS0FBZnpPLEVBQVcsV0FFbkNBLEVBQUVpUyxVQUFZLElBQ2JoVCxLQUFLb0ksT0FBT3JELFFBQTBCLEVBQWZoRSxFQUFXLFdBRW5DQSxFQUFFaVMsVUFBWSxJQUNiaFQsS0FBS29JLE9BQU9yRCxRQUEyQixFQUFmaEUsRUFBVyxZQUcvQ2dPLEVBdFRBIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImV4cG9ydCBjbGFzcyBDb250cm9scyB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5rZXlzQmluZGluZ3MgPSB7fTtcclxuICAgICAgICB0aGlzLm1vdXNlZG93bkNhbGxvdXQgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgIGlmKG9wdGlvbnMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBpZihvcHRpb25zLmhhc093blByb3BlcnR5KCdwb2ludGVyTG9jaycpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoISFvcHRpb25zWydwb2ludGVyTG9jayddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zWydjYW52YXMnXSA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBcIkluIG9yZGVyIHRvIHV0aWxpemUgcG9pbnRlciBsb2NrLCBwcm92aWRlIGNvbnZhcyBpbiBvcHRpb25zIVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVzZU1vdXNlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iaW5kUG9pbnRlcihvcHRpb25zWydjYW52YXMnXSwgb3B0aW9uc1sncG9pbnRlckNhbGxvdXQnXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jcmVhdGVFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIGJpbmRLZXlzKGtleXMsIGNhbGxvdXQpIHtcclxuICAgICAgICBpZihBcnJheS5pc0FycmF5KGtleXMpKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5rZXlzQmluZGluZ3Nba2V5c1tpXV0gPSBjYWxsb3V0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJLZXlzIHBhcmFtZXRlciBzaG91bGQgYmUgYW4gQXJyYXkhXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGJpbmRLZXkoa2V5LCBjYWxsb3V0KSB7XHJcbiAgICAgICAgaWYodHlwZW9mIGtleXMgPT09ICdTdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHRoaXMua2V5c0JpbmRpbmdzW2tleXNdID0gY2FsbG91dDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBcIktleSBwYXJhbWV0ZXIgc2hvdWxkIGJlIFN0cmluZyFcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYmluZE1vdXNlZG93bihjYWxsb3V0KSB7XHJcbiAgICAgICAgdGhpcy5tb3VzZWRvd25DYWxsb3V0ID0gY2FsbG91dDtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgbGV0IGZFbGFwc2VkVGltZSA9IDAuMVxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcclxuICAgICAgICAgICAgaWYoc2VsZi5rZXlzQmluZGluZ3MuaGFzT3duUHJvcGVydHkoZS5rZXlDb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5rZXlzQmluZGluZ3NbZS5rZXlDb2RlXSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICBcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcclxuICAgICAgICAgICAgaWYoc2VsZi5tb3VzZWRvd25DYWxsb3V0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYubW91c2Vkb3duQ2FsbG91dCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICBcclxuICAgIH1cclxuICAgIGJpbmRQb2ludGVyKGNhbnZhcywgcG9pbnRlckNhbGxvdXQpIHtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgY2FudmFzLnJlcXVlc3RQb2ludGVyTG9jayA9IGNhbnZhcy5yZXF1ZXN0UG9pbnRlckxvY2sgfHwgY2FudmFzLm1velJlcXVlc3RQb2ludGVyTG9jaztcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrID0gZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrIHx8IGRvY3VtZW50Lm1vekV4aXRQb2ludGVyTG9jaztcclxuXHJcbiAgICAgICAgY2FudmFzLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNlbGYudXNlTW91c2UgPSB0cnVlO1xyXG4gICAgICAgICAgICBjYW52YXMucmVxdWVzdFBvaW50ZXJMb2NrKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybG9ja2NoYW5nZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHNlbGYubG9ja0NoYW5nZShjYW52YXMsIHBvaW50ZXJDYWxsb3V0KTtcclxuICAgICAgICB9LCBmYWxzZSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW96cG9pbnRlcmxvY2tjaGFuZ2UnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBzZWxmLmxvY2tDaGFuZ2UoY2FudmFzLCBwb2ludGVyQ2FsbG91dCk7XHJcbiAgICAgICAgfSwgZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgbG9ja0NoYW5nZShjYW52YXMsIHBvaW50ZXJDYWxsb3V0KSB7XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIGlmIChkb2N1bWVudC5wb2ludGVyTG9ja0VsZW1lbnQgPT09IGNhbnZhcyB8fFxyXG4gICAgICAgICAgICBkb2N1bWVudC5tb3pQb2ludGVyTG9ja0VsZW1lbnQgPT09IGNhbnZhcykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVGhlIHBvaW50ZXIgbG9jayBzdGF0dXMgaXMgbm93IGxvY2tlZCcpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBpZighc2VsZi51c2VNb3VzZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgcG9pbnRlckNhbGxvdXQoZSk7XHJcbiAgICAgICAgICAgIH0sIGZhbHNlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVGhlIHBvaW50ZXIgbG9jayBzdGF0dXMgaXMgbm93IHVubG9ja2VkJyk7XHJcbiAgICAgICAgICAgIHNlbGYudXNlTW91c2UgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgVmlzdWFsVXRpbHMge1xyXG4gICAgc3RhdGljIHNoYWRlQmxlbmRDb252ZXJ0KHAsIGZyb20sIHRvKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBwICE9IFwibnVtYmVyXCIgfHwgcCA8IC0xIHx8IHAgPiAxIHx8IHR5cGVvZiBmcm9tICE9IFwic3RyaW5nXCIgfHwgKGZyb21bMF0gIT0gJ3InICYmIGZyb21bMF0gIT0gJyMnKSB8fCAodHlwZW9mIHRvICE9IFwic3RyaW5nXCIgJiYgdHlwZW9mIHRvICE9IFwidW5kZWZpbmVkXCIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGkgPSBwYXJzZUludCxcclxuICAgICAgICAgICAgciA9IE1hdGgucm91bmQsXHJcbiAgICAgICAgICAgIGggPSBmcm9tLmxlbmd0aCA+IDksXHJcbiAgICAgICAgICAgIGggPSB0eXBlb2YgdG8gPT0gXCJzdHJpbmdcIiA/IHRvLmxlbmd0aCA+IDkgPyB0cnVlIDogdG8gPT0gXCJjXCIgPyAhaCA6IGZhbHNlIDogaCxcclxuICAgICAgICAgICAgYiA9IHAgPCAwLFxyXG4gICAgICAgICAgICBwID0gYiA/IHAgKiAtMSA6IHAsXHJcbiAgICAgICAgICAgIHRvID0gdG8gJiYgdG8gIT0gXCJjXCIgPyB0byA6IGIgPyBcIiMwMDAwMDBcIiA6IFwiI0ZGRkZGRlwiLFxyXG4gICAgICAgICAgICBmID0gVmlzdWFsVXRpbHMuc2JjUmlwKGZyb20sIGkpLFxyXG4gICAgICAgICAgICB0ID0gVmlzdWFsVXRpbHMuc2JjUmlwKHRvLCBpKTtcclxuICAgICAgICBpZiAoIWYgfHwgIXQpIHJldHVybiBudWxsO1xyXG4gICAgICAgIGlmIChoKSByZXR1cm4gXCJyZ2IoXCIgKyByKCh0WzBdIC0gZlswXSkgKiBwICsgZlswXSkgKyBcIixcIiArIHIoKHRbMV0gLSBmWzFdKSAqIHAgKyBmWzFdKSArIFwiLFwiICsgcigodFsyXSAtIGZbMl0pICogcCArIGZbMl0pICsgKGZbM10gPCAwICYmIHRbM10gPCAwID8gXCIpXCIgOiBcIixcIiArIChmWzNdID4gLTEgJiYgdFszXSA+IC0xID8gcigoKHRbM10gLSBmWzNdKSAqIHAgKyBmWzNdKSAqIDEwMDAwKSAvIDEwMDAwIDogdFszXSA8IDAgPyBmWzNdIDogdFszXSkgKyBcIilcIik7XHJcbiAgICAgICAgZWxzZSByZXR1cm4gXCIjXCIgKyAoMHgxMDAwMDAwMDAgKyAoZlszXSA+IC0xICYmIHRbM10gPiAtMSA/IHIoKCh0WzNdIC0gZlszXSkgKiBwICsgZlszXSkgKiAyNTUpIDogdFszXSA+IC0xID8gcih0WzNdICogMjU1KSA6IGZbM10gPiAtMSA/IHIoZlszXSAqIDI1NSkgOiAyNTUpICogMHgxMDAwMDAwICsgcigodFswXSAtIGZbMF0pICogcCArIGZbMF0pICogMHgxMDAwMCArIHIoKHRbMV0gLSBmWzFdKSAqIHAgKyBmWzFdKSAqIDB4MTAwICsgcigodFsyXSAtIGZbMl0pICogcCArIGZbMl0pKS50b1N0cmluZygxNikuc2xpY2UoZlszXSA+IC0xIHx8IHRbM10gPiAtMSA/IDEgOiAzKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBzYmNSaXAoZCwgaSkge1xyXG4gICAgICAgIHZhciBsID0gZC5sZW5ndGgsXHJcbiAgICAgICAgICAgIFJHQiA9IG5ldyBPYmplY3QoKTtcclxuICAgICAgICBpZiAobCA+IDkpIHtcclxuICAgICAgICAgICAgZCA9IGQuc3BsaXQoXCIsXCIpO1xyXG4gICAgICAgICAgICBpZiAoZC5sZW5ndGggPCAzIHx8IGQubGVuZ3RoID4gNCkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIFJHQlswXSA9IGkoZFswXS5zbGljZSg0KSksIFJHQlsxXSA9IGkoZFsxXSksIFJHQlsyXSA9IGkoZFsyXSksIFJHQlszXSA9IGRbM10gPyBwYXJzZUZsb2F0KGRbM10pIDogLTE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGwgPT0gOCB8fCBsID09IDYgfHwgbCA8IDQpIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICBpZiAobCA8IDYpIGQgPSBcIiNcIiArIGRbMV0gKyBkWzFdICsgZFsyXSArIGRbMl0gKyBkWzNdICsgZFszXSArIChsID4gNCA/IGRbNF0gKyBcIlwiICsgZFs0XSA6IFwiXCIpO1xyXG4gICAgICAgICAgICBkID0gaShkLnNsaWNlKDEpLCAxNiksIFJHQlswXSA9IGQgPj4gMTYgJiAyNTUsIFJHQlsxXSA9IGQgPj4gOCAmIDI1NSwgUkdCWzJdID0gZCAmIDI1NSwgUkdCWzNdID0gbCA9PSA5IHx8IGwgPT0gNSA/IHIoKChkID4+IDI0ICYgMjU1KSAvIDI1NSkgKiAxMDAwMCkgLyAxMDAwMCA6IC0xO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUkdCO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIEFzc2V0IHtcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMubG9hZGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpc0NvbXBsZXRlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRlZDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEFzc2V0IH0gZnJvbSBcIi4uL0Fzc2V0XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgSW1hZ2VBc3NldCBleHRlbmRzIEFzc2V0IHtcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHNyYykge1xyXG4gICAgICAgIHN1cGVyKG5hbWUpO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB0aGlzLmltYWdlLnNyYyA9IHNyYztcclxuICAgIH1cclxuICAgIGlzQ29tcGxldGUoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkZWQgPSB0aGlzLmltYWdlLmNvbXBsZXRlO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRlZDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEltYWdlQXNzZXQgfSBmcm9tIFwiLi9SZW5kZXJpbmcvSW1hZ2VBc3NldFwiO1xyXG5cclxuZXhwb3J0IGxldCBHTE9CQUxfQVNTRVRTID0gW107XHJcbmV4cG9ydCBsZXQgQUxMX0xPQURFRCA9IHRydWU7XHJcbmV4cG9ydCBsZXQgR2V0QXNzZXQgPSBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0gR0xPQkFMX0FTU0VUUy5maWx0ZXIoKGFzc2V0KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGFzc2V0Lm5hbWUgPT09IG5hbWU7XHJcbiAgICB9KTtcclxuICAgIGlmICghcmVzdWx0IHx8IHJlc3VsdC5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHRbMF07XHJcbn1cclxuZXhwb3J0IGxldCBBcmVBbGxBc3NldHNMb2FkZWQgPSBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICByZXR1cm4gR0xPQkFMX0FTU0VUUy5maWx0ZXIoKGFzc2V0KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGFzc2V0LmlzQ29tcGxldGUoKTtcclxuICAgIH0pLmxlbmd0aCA9PT0gR0xPQkFMX0FTU0VUUy5sZW5ndGggJiYgQUxMX0xPQURFRDtcclxufVxyXG5leHBvcnQgbGV0IFNldEFsbExvYWRlZCA9IGZ1bmN0aW9uKGxvYWRlZCkge1xyXG4gICAgQUxMX0xPQURFRCA9IGxvYWRlZDtcclxufSIsImltcG9ydCB7IFZpc3VhbFV0aWxzIH0gZnJvbSAnLi9WaXN1YWxVdGlscy5qcyc7XHJcbmltcG9ydCB7IEdMT0JBTF9BU1NFVFMsIEdldEFzc2V0IH0gZnJvbSAnLi4vR2xvYmFscyc7XHJcblxyXG5leHBvcnQgY2xhc3MgUmVuZGVyZXIge1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50RWxlbWVudCwgb3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudCA9IHBhcmVudEVsZW1lbnRcclxuXHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0ge1xyXG4gICAgICAgICAgICByZXNEZWNyZWFzZTogMSxcclxuICAgICAgICAgICAgY2FudmFzSWQ6ICdtYWluU2NyZWVuJ1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcblx0XHR0aGlzLmNhbnZhcy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgIGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpO1xyXG5cdFx0dGhpcy5jYW52YXMuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCAgZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQpO1xyXG5cdFx0dGhpcy5jYW52YXMuc2V0QXR0cmlidXRlKCdpZCcsICB0aGlzLm9wdGlvbnMuY2FudmFzSWQpO1xyXG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmNhbnZhcyk7IFxyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5uQ2VpbGluZyA9IDA7XHJcbiAgICAgICAgdGhpcy5uRmxvb3IgPSAwO1xyXG4gICAgICAgIHRoaXMub2ZmU2NyZWVuID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy55QW5nbGUgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFdpZHRoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcy53aWR0aCAvIHRoaXMub3B0aW9ucy5yZXNEZWNyZWFzZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRIZWlnaHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLmhlaWdodCAvIHRoaXMub3B0aW9ucy5yZXNEZWNyZWFzZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRGaWxsU3R5bGUoY29sb3IpIHtcclxuICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gY29sb3I7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJBbGwoKSB7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJHbG9iYWxzKCkge1xyXG4gICAgICAgIGxldCBtaWRkbGVMaW5lID0gdGhpcy5jYW52YXMuaGVpZ2h0IC8gMiArIHRoaXMueUFuZ2xlO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSAncmdiKDQ0LCAxMDcsIDI1NSknO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICB2YXIgbGluZWFyR3JhZGllbnQxID0gdGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIHRoaXMuY2FudmFzLmhlaWdodCwgMCwgbWlkZGxlTGluZSk7XHJcbiAgICAgICAgbGluZWFyR3JhZGllbnQxLmFkZENvbG9yU3RvcCgwLCAncmdiKDE0NywgNjcsIDIpJyk7XHJcbiAgICAgICAgbGluZWFyR3JhZGllbnQxLmFkZENvbG9yU3RvcCgwLjY1LCBWaXN1YWxVdGlscy5zaGFkZUJsZW5kQ29udmVydCgtMC44LCAncmdiKDE0NywgNjcsIDIpJykpO1xyXG4gICAgICAgIGxpbmVhckdyYWRpZW50MS5hZGRDb2xvclN0b3AoMSwgJ3JnYigwLCAwLCAwKScpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSBsaW5lYXJHcmFkaWVudDE7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxSZWN0KDAsIG1pZGRsZUxpbmUsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQgLSBtaWRkbGVMaW5lKTtcclxuICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gJ2JsYWNrJztcclxuICAgIH1cclxuICAgIHJlbmRlckltYWdlKGltYWdlLCBzcGFjZVgsIHNwYWNlWSwgc3BhY2VXaWR0aCwgc3BhY2VIZWlnaHQsIG9wdGlvbnMpIHtcclxuICAgICAgICBsZXQgcmVuZGVyQ29udGV4dCA9IHRoaXMuZ2V0UmVuZGVyQ29udGV4dCgpO1xyXG4gICAgICAgIGlmICh0aGlzLnNob3VsZEltYWdlQmVSZW5kZXJlZChvcHRpb25zKSkge1xyXG4gICAgICAgICAgICByZW5kZXJDb250ZXh0LmRyYXdJbWFnZShcclxuICAgICAgICAgICAgICAgIEdldEFzc2V0KGltYWdlLmkpLmltYWdlLFxyXG4gICAgICAgICAgICAgICAgaW1hZ2UuWCwgaW1hZ2UuWSwgaW1hZ2UuVywgaW1hZ2UuSCxcclxuICAgICAgICAgICAgICAgIHNwYWNlWCwgc3BhY2VZICsgdGhpcy55QW5nbGUsIHNwYWNlV2lkdGgsIHNwYWNlSGVpZ2h0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnc2hhZGVMZXZlbCcpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgcmVuZGVyQ29udGV4dC5maWxsU3R5bGUgPSAncmdiYSgwLCAwLCAwLCAnICsgb3B0aW9uc1snc2hhZGVMZXZlbCddICsgJyknO1xyXG4gICAgICAgICAgICAgICAgcmVuZGVyQ29udGV4dC5maWxsUmVjdChzcGFjZVgsIHNwYWNlWSArIHRoaXMueUFuZ2xlLCBzcGFjZVdpZHRoLCBzcGFjZUhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyVW5pY29kZUFzc2V0KGFzc2V0LCBzcGFjZVgsIHNwYWNlWSwgd2lkdGgsIGhlaWdodCwgZk1pZGRsZU9mT2JqZWN0LCBmRGlzdGFuY2VGcm9tUGxheWVyLCBmRGVwdGhCdWZmZXIsIHNoYWRlTGV2ZWwpIHtcclxuICAgICAgICBsZXQgcmVuZGVyQ29udGV4dCA9IHRoaXMuZ2V0UmVuZGVyQ29udGV4dCgpO1xyXG4gICAgICAgIGZvciAobGV0IGx5ID0gMDsgbHkgPCBhc3NldC5yb3dzOyBseSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGx4ID0gMDsgbHggPCBhc3NldC5jb2xzOyBseCsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcHJvcG9ydGlhbFdpZHRoID0gd2lkdGggLyBhc3NldC5jb2xzO1xyXG4gICAgICAgICAgICAgICAgbGV0IHByb3BvcnRpYWxIZWlnaHQgPSBoZWlnaHQgLyBhc3NldC5yb3dzO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBuT2JqZWN0Q29sdW1uID0gTWF0aC5yb3VuZChmTWlkZGxlT2ZPYmplY3QgKyBseCAtIChhc3NldC5jb2xzIC8gMikpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5PYmplY3RDb2x1bW4gPj0gMCAmJiBuT2JqZWN0Q29sdW1uIDwgdGhpcy5nZXRXaWR0aCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFzc2V0LmdldENoYXJBdChseSwgbHgpICE9PSAnLicgJiYgZkRlcHRoQnVmZmVyW25PYmplY3RDb2x1bW5dID49IGZEaXN0YW5jZUZyb21QbGF5ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZkRlcHRoQnVmZmVyW25PYmplY3RDb2x1bW5dID0gZkRpc3RhbmNlRnJvbVBsYXllcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZW5kZXJYID0gc3BhY2VYICsgKGx4ICogcHJvcG9ydGlhbFdpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlbmRlclkgPSBzcGFjZVkgKyAobHkgKiBwcm9wb3J0aWFsSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyQ29udGV4dC5maWxsU3R5bGUgPSBhc3NldC5nZXRDaGFyQXQobHksIGx4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyQ29udGV4dC5maWxsUmVjdChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlclgsIHJlbmRlclkgKyB0aGlzLnlBbmdsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BvcnRpYWxXaWR0aCwgcHJvcG9ydGlhbEhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckNvbnRleHQuZmlsbFN0eWxlID0gJ3JnYmEoMCwgMCwgMCwgJyArIHNoYWRlTGV2ZWwgKyAnKSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckNvbnRleHQuZmlsbFJlY3QoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJYLCByZW5kZXJZICsgdGhpcy55QW5nbGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wb3J0aWFsV2lkdGgsIHByb3BvcnRpYWxIZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRSZW5kZXJDb250ZXh0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm9mZlNjcmVlbiA/IHRoaXMuY2FudmFzLm9mZnNjcmVlbkNvbnRleHQgOiB0aGlzLmNvbnRleHQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvdWxkSW1hZ2VCZVJlbmRlcmVkKG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gdHlwZW9mIG9wdGlvbnMgPT09IFwidW5kZWZpbmVkXCIgfHwgKHR5cGVvZiBvcHRpb25zICE9PSBcInVuZGVmaW5lZFwiICYmIG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ3NoYWRlTGV2ZWwnKSAmJiBvcHRpb25zWydzaGFkZUxldmVsJ10gPCAwLjk5KTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJSZWN0KHgsIHksIHcsIGgpIHtcclxuICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFJlY3QoeCwgeSwgdywgaCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyTGluZShjb29yZGluYXRlcywgbGluZUNvbG9yKSB7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5tb3ZlVG8oY29vcmRpbmF0ZXNbMF0ueCwgY29vcmRpbmF0ZXNbMF0ueSk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgY29vcmRpbmF0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmxpbmVUbyhcclxuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzW2ldLngsXHJcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlc1tpXS55XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNvbnRleHQuc3Ryb2tlU3R5bGUgPSBsaW5lQ29sb3I7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGJlZ2luT2ZmU2NyZWVuKCkge1xyXG4gICAgICAgIHRoaXMuY2FudmFzLm9mZnNjcmVlbkNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgIHRoaXMuY2FudmFzLm9mZnNjcmVlbkNhbnZhcy53aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTtcclxuICAgICAgICB0aGlzLmNhbnZhcy5vZmZzY3JlZW5DYW52YXMuaGVpZ2h0ID0gdGhpcy5nZXRXaWR0aCgpO1xyXG4gICAgICAgIHRoaXMuY2FudmFzLm9mZnNjcmVlbkNvbnRleHQgPSB0aGlzLmNhbnZhcy5vZmZzY3JlZW5DYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICB0aGlzLm9mZlNjcmVlbiA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZW5kT2ZmU2NyZWVuKCkge1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5jYW52YXMub2Zmc2NyZWVuQ2FudmFzLCAwLCAwKTtcclxuICAgICAgICB0aGlzLm9mZlNjcmVlbiA9IGZhbHNlO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tIFwiLi9SZW5kZXJpbmcvUmVuZGVyZXJcIjtcclxuaW1wb3J0IHsgSW1hZ2VBc3NldCB9IGZyb20gXCIuL1JlbmRlcmluZy9JbWFnZUFzc2V0XCI7XHJcbmltcG9ydCB7IEdMT0JBTF9BU1NFVFMgfSBmcm9tIFwiLi9HbG9iYWxzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVUkge1xyXG4gICAgY29uc3RydWN0b3IobWFwLCBwbGF5ZXIpIHtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFJlbmRlcmVyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGFpbmVyXCIpLCB7Y2FudmFzSWQ6J3VpU2NyZWVuJ30pO1xyXG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xyXG4gICAgICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xyXG4gICAgICAgIHRoaXMubWluaW1hcE9mZnNldCA9IHtcclxuICAgICAgICAgICAgeDogNDAsXHJcbiAgICAgICAgICAgIHk6IDQwXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm1pbmltYXBTY2FsZSA9IDQ7XHJcbiAgICAgICAgR0xPQkFMX0FTU0VUUy5wdXNoKG5ldyBJbWFnZUFzc2V0KCdndW5fc3ByaXRlJywgJy4vc3ByaXRlcy9zaG90Z3VuLnBuZycpKTtcclxuICAgIH1cclxuICAgIGRyYXdNaW5pTWFwKG1pZGRsZUNvcnJkaW5hdGVzLCB1bml0cykge1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0RmlsbFN0eWxlKCd3aGl0ZScpO1xyXG4gICAgICAgIGZvciAobGV0IG54ID0gMDsgbnggPCB0aGlzLm1hcC5tYXBXaWR0aDsgbngrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBueSA9IDA7IG55IDwgdGhpcy5tYXAubWFwSGVpZ2h0OyBueSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXAuc3VyZmFjZVtueSAqIHRoaXMubWFwLm1hcFdpZHRoICsgbnhdID09PSAnIycpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlclJlY3QoKG54ICogdGhpcy5taW5pbWFwU2NhbGUpICsgdGhpcy5taW5pbWFwT2Zmc2V0LngsIChueSAqIHRoaXMubWluaW1hcFNjYWxlKSArIHRoaXMubWluaW1hcE9mZnNldC55LCB0aGlzLm1pbmltYXBTY2FsZSwgdGhpcy5taW5pbWFwU2NhbGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYodW5pdHMuZmlsdGVyKCh1KSA9PiB1LnggPT09IG54ICYmIHUueSA9PT0gbnkpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEZpbGxTdHlsZSgneWVsbG93Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXJSZWN0KChueCAqIHRoaXMubWluaW1hcFNjYWxlKSArIHRoaXMubWluaW1hcE9mZnNldC54LCAobnkgKiB0aGlzLm1pbmltYXBTY2FsZSkgKyB0aGlzLm1pbmltYXBPZmZzZXQueSwgdGhpcy5taW5pbWFwU2NhbGUsIHRoaXMubWluaW1hcFNjYWxlKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEZpbGxTdHlsZSgnd2hpdGUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEZpbGxTdHlsZSgncmVkJyk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXJSZWN0KCh0aGlzLnBsYXllci5wb3NYICogdGhpcy5taW5pbWFwU2NhbGUpICsgdGhpcy5taW5pbWFwT2Zmc2V0LngsICh0aGlzLnBsYXllci5wb3NZICogdGhpcy5taW5pbWFwU2NhbGUpICsgdGhpcy5taW5pbWFwT2Zmc2V0LnksIDIsIDIpO1xyXG5cclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlckxpbmUoW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB4OiAodGhpcy5wbGF5ZXIucG9zWCAqIHRoaXMubWluaW1hcFNjYWxlKSArIHRoaXMubWluaW1hcE9mZnNldC54LFxyXG4gICAgICAgICAgICAgICAgeTogKHRoaXMucGxheWVyLnBvc1kgKiB0aGlzLm1pbmltYXBTY2FsZSkgKyB0aGlzLm1pbmltYXBPZmZzZXQueVxyXG4gICAgICAgICAgICB9LCAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB4OiBNYXRoLmZsb29yKHRoaXMucGxheWVyLnBvc1ggKyBtaWRkbGVDb3JyZGluYXRlcy54ICogNSkgKiB0aGlzLm1pbmltYXBTY2FsZSArIHRoaXMubWluaW1hcE9mZnNldC54LFxyXG4gICAgICAgICAgICAgICAgeTogTWF0aC5mbG9vcih0aGlzLnBsYXllci5wb3NZICsgbWlkZGxlQ29ycmRpbmF0ZXMueSAqIDUpICogdGhpcy5taW5pbWFwU2NhbGUgKyB0aGlzLm1pbmltYXBPZmZzZXQueSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF0sICdyZWQnKTtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEZpbGxTdHlsZSgnYmxhY2snKTtcclxuICAgIH1cclxuICAgIGFzeW5jIGRyYXdVSShtaWRkbGVDb3JyZGluYXRlcywgdW5pdHMpIHtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLmNsZWFyQWxsKCk7XHJcbiAgICAgICAgdGhpcy5kcmF3TWluaU1hcChtaWRkbGVDb3JyZGluYXRlcywgdW5pdHMpO1xyXG4gICAgICAgIC8vIHRoaXMucmVuZGVyZXIucmVuZGVySW1hZ2Uoe1xyXG4gICAgICAgIC8vICAgICAgICAgWDogMCwgWTogMCxcclxuICAgICAgICAvLyAgICAgICAgIFc6NTAwLCBIOiAzMDcsXHJcbiAgICAgICAgLy8gICAgICAgICBpOiAnZ3VuX3Nwcml0ZSdcclxuICAgICAgICAvLyAgICAgfSwgICAgICAgICAgICBcclxuICAgICAgICAvLyAgICAgdGhpcy5yZW5kZXJlci5nZXRXaWR0aCgpIC8gMiAtMjAsIHRoaXMucmVuZGVyZXIuZ2V0SGVpZ2h0KCkgLSAzMDcsXHJcbiAgICAgICAgLy8gICAgIDUwMCwgMzA3KTtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEZpbGxTdHlsZSgnd2hpdGUnKTtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlclJlY3QodGhpcy5yZW5kZXJlci5nZXRXaWR0aCgpIC8gMiAtIDE1LCB0aGlzLnJlbmRlcmVyLmdldEhlaWdodCgpIC8gMiAtIDIsIDMwLCA0KTtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlclJlY3QodGhpcy5yZW5kZXJlci5nZXRXaWR0aCgpIC8gMiAtIDIsIHRoaXMucmVuZGVyZXIuZ2V0SGVpZ2h0KCkgLyAyIC0gMTUsIDQsIDMwKTtcclxuICAgIH1cclxufSIsIi8qKlxyXG4gKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tL1xyXG4gKi9cclxuXHJcbmV4cG9ydCBsZXQgU3RhdHMgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdHZhciBtb2RlID0gMDtcclxuXHJcblx0dmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnICk7XHJcblx0Y29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246Zml4ZWQ7dG9wOjA7bGVmdDowO2N1cnNvcjpwb2ludGVyO29wYWNpdHk6MC45O3otaW5kZXg6MTAwMDAnO1xyXG5cdGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCBmdW5jdGlvbiAoIGV2ZW50ICkge1xyXG5cclxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRzaG93UGFuZWwoICsrIG1vZGUgJSBjb250YWluZXIuY2hpbGRyZW4ubGVuZ3RoICk7XHJcblxyXG5cdH0sIGZhbHNlICk7XHJcblxyXG5cdC8vXHJcblxyXG5cdGZ1bmN0aW9uIGFkZFBhbmVsKCBwYW5lbCApIHtcclxuXHJcblx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQoIHBhbmVsLmRvbSApO1xyXG5cdFx0cmV0dXJuIHBhbmVsO1xyXG5cclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHNob3dQYW5lbCggaWQgKSB7XHJcblxyXG5cdFx0Zm9yICggdmFyIGkgPSAwOyBpIDwgY29udGFpbmVyLmNoaWxkcmVuLmxlbmd0aDsgaSArKyApIHtcclxuXHJcblx0XHRcdGNvbnRhaW5lci5jaGlsZHJlblsgaSBdLnN0eWxlLmRpc3BsYXkgPSBpID09PSBpZCA/ICdibG9jaycgOiAnbm9uZSc7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdG1vZGUgPSBpZDtcclxuXHJcblx0fVxyXG5cclxuXHQvL1xyXG5cclxuXHR2YXIgYmVnaW5UaW1lID0gKCBwZXJmb3JtYW5jZSB8fCBEYXRlICkubm93KCksIHByZXZUaW1lID0gYmVnaW5UaW1lLCBmcmFtZXMgPSAwO1xyXG5cclxuXHR2YXIgZnBzUGFuZWwgPSBhZGRQYW5lbCggbmV3IFN0YXRzLlBhbmVsKCAnRlBTJywgJyMwZmYnLCAnIzAwMicgKSApO1xyXG5cdHZhciBtc1BhbmVsID0gYWRkUGFuZWwoIG5ldyBTdGF0cy5QYW5lbCggJ01TJywgJyMwZjAnLCAnIzAyMCcgKSApO1xyXG5cclxuXHRpZiAoIHNlbGYucGVyZm9ybWFuY2UgJiYgc2VsZi5wZXJmb3JtYW5jZS5tZW1vcnkgKSB7XHJcblxyXG5cdFx0dmFyIG1lbVBhbmVsID0gYWRkUGFuZWwoIG5ldyBTdGF0cy5QYW5lbCggJ01CJywgJyNmMDgnLCAnIzIwMScgKSApO1xyXG5cclxuXHR9XHJcblxyXG5cdHNob3dQYW5lbCggMCApO1xyXG5cclxuXHRyZXR1cm4ge1xyXG5cclxuXHRcdFJFVklTSU9OOiAxNixcclxuXHJcblx0XHRkb206IGNvbnRhaW5lcixcclxuXHJcblx0XHRhZGRQYW5lbDogYWRkUGFuZWwsXHJcblx0XHRzaG93UGFuZWw6IHNob3dQYW5lbCxcclxuXHJcblx0XHRiZWdpbjogZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdFx0YmVnaW5UaW1lID0gKCBwZXJmb3JtYW5jZSB8fCBEYXRlICkubm93KCk7XHJcblxyXG5cdFx0fSxcclxuXHJcblx0XHRlbmQ6IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRcdGZyYW1lcyArKztcclxuXHJcblx0XHRcdHZhciB0aW1lID0gKCBwZXJmb3JtYW5jZSB8fCBEYXRlICkubm93KCk7XHJcblxyXG5cdFx0XHRtc1BhbmVsLnVwZGF0ZSggdGltZSAtIGJlZ2luVGltZSwgMjAwICk7XHJcblxyXG5cdFx0XHRpZiAoIHRpbWUgPj0gcHJldlRpbWUgKyAxMDAwICkge1xyXG5cclxuXHRcdFx0XHRmcHNQYW5lbC51cGRhdGUoICggZnJhbWVzICogMTAwMCApIC8gKCB0aW1lIC0gcHJldlRpbWUgKSwgMTAwICk7XHJcblxyXG5cdFx0XHRcdHByZXZUaW1lID0gdGltZTtcclxuXHRcdFx0XHRmcmFtZXMgPSAwO1xyXG5cclxuXHRcdFx0XHRpZiAoIG1lbVBhbmVsICkge1xyXG5cclxuXHRcdFx0XHRcdHZhciBtZW1vcnkgPSBwZXJmb3JtYW5jZS5tZW1vcnk7XHJcblx0XHRcdFx0XHRtZW1QYW5lbC51cGRhdGUoIG1lbW9yeS51c2VkSlNIZWFwU2l6ZSAvIDEwNDg1NzYsIG1lbW9yeS5qc0hlYXBTaXplTGltaXQgLyAxMDQ4NTc2ICk7XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiB0aW1lO1xyXG5cclxuXHRcdH0sXHJcblxyXG5cdFx0dXBkYXRlOiBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0XHRiZWdpblRpbWUgPSB0aGlzLmVuZCgpO1xyXG5cclxuXHRcdH0sXHJcblxyXG5cdFx0Ly8gQmFja3dhcmRzIENvbXBhdGliaWxpdHlcclxuXHJcblx0XHRkb21FbGVtZW50OiBjb250YWluZXIsXHJcblx0XHRzZXRNb2RlOiBzaG93UGFuZWxcclxuXHJcblx0fTtcclxuXHJcbn07XHJcblxyXG5TdGF0cy5QYW5lbCA9IGZ1bmN0aW9uICggbmFtZSwgZmcsIGJnICkge1xyXG5cclxuXHR2YXIgbWluID0gSW5maW5pdHksIG1heCA9IDAsIHJvdW5kID0gTWF0aC5yb3VuZDtcclxuXHR2YXIgUFIgPSByb3VuZCggd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSApO1xyXG5cclxuXHR2YXIgV0lEVEggPSA4MCAqIFBSLCBIRUlHSFQgPSA0OCAqIFBSLFxyXG5cdFx0XHRURVhUX1ggPSAzICogUFIsIFRFWFRfWSA9IDIgKiBQUixcclxuXHRcdFx0R1JBUEhfWCA9IDMgKiBQUiwgR1JBUEhfWSA9IDE1ICogUFIsXHJcblx0XHRcdEdSQVBIX1dJRFRIID0gNzQgKiBQUiwgR1JBUEhfSEVJR0hUID0gMzAgKiBQUjtcclxuXHJcblx0dmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdjYW52YXMnICk7XHJcblx0Y2FudmFzLndpZHRoID0gV0lEVEg7XHJcblx0Y2FudmFzLmhlaWdodCA9IEhFSUdIVDtcclxuXHRjYW52YXMuc3R5bGUuY3NzVGV4dCA9ICd3aWR0aDo4MHB4O2hlaWdodDo0OHB4JztcclxuXHJcblx0dmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCggJzJkJyApO1xyXG5cdGNvbnRleHQuZm9udCA9ICdib2xkICcgKyAoIDkgKiBQUiApICsgJ3B4IEhlbHZldGljYSxBcmlhbCxzYW5zLXNlcmlmJztcclxuXHRjb250ZXh0LnRleHRCYXNlbGluZSA9ICd0b3AnO1xyXG5cclxuXHRjb250ZXh0LmZpbGxTdHlsZSA9IGJnO1xyXG5cdGNvbnRleHQuZmlsbFJlY3QoIDAsIDAsIFdJRFRILCBIRUlHSFQgKTtcclxuXHJcblx0Y29udGV4dC5maWxsU3R5bGUgPSBmZztcclxuXHRjb250ZXh0LmZpbGxUZXh0KCBuYW1lLCBURVhUX1gsIFRFWFRfWSApO1xyXG5cdGNvbnRleHQuZmlsbFJlY3QoIEdSQVBIX1gsIEdSQVBIX1ksIEdSQVBIX1dJRFRILCBHUkFQSF9IRUlHSFQgKTtcclxuXHJcblx0Y29udGV4dC5maWxsU3R5bGUgPSBiZztcclxuXHRjb250ZXh0Lmdsb2JhbEFscGhhID0gMC45O1xyXG5cdGNvbnRleHQuZmlsbFJlY3QoIEdSQVBIX1gsIEdSQVBIX1ksIEdSQVBIX1dJRFRILCBHUkFQSF9IRUlHSFQgKTtcclxuXHJcblx0cmV0dXJuIHtcclxuXHJcblx0XHRkb206IGNhbnZhcyxcclxuXHJcblx0XHR1cGRhdGU6IGZ1bmN0aW9uICggdmFsdWUsIG1heFZhbHVlICkge1xyXG5cclxuXHRcdFx0bWluID0gTWF0aC5taW4oIG1pbiwgdmFsdWUgKTtcclxuXHRcdFx0bWF4ID0gTWF0aC5tYXgoIG1heCwgdmFsdWUgKTtcclxuXHJcblx0XHRcdGNvbnRleHQuZmlsbFN0eWxlID0gYmc7XHJcblx0XHRcdGNvbnRleHQuZ2xvYmFsQWxwaGEgPSAxO1xyXG5cdFx0XHRjb250ZXh0LmZpbGxSZWN0KCAwLCAwLCBXSURUSCwgR1JBUEhfWSApO1xyXG5cdFx0XHRjb250ZXh0LmZpbGxTdHlsZSA9IGZnO1xyXG5cdFx0XHRjb250ZXh0LmZpbGxUZXh0KCByb3VuZCggdmFsdWUgKSArICcgJyArIG5hbWUgKyAnICgnICsgcm91bmQoIG1pbiApICsgJy0nICsgcm91bmQoIG1heCApICsgJyknLCBURVhUX1gsIFRFWFRfWSApO1xyXG5cclxuXHRcdFx0Y29udGV4dC5kcmF3SW1hZ2UoIGNhbnZhcywgR1JBUEhfWCArIFBSLCBHUkFQSF9ZLCBHUkFQSF9XSURUSCAtIFBSLCBHUkFQSF9IRUlHSFQsIEdSQVBIX1gsIEdSQVBIX1ksIEdSQVBIX1dJRFRIIC0gUFIsIEdSQVBIX0hFSUdIVCApO1xyXG5cclxuXHRcdFx0Y29udGV4dC5maWxsUmVjdCggR1JBUEhfWCArIEdSQVBIX1dJRFRIIC0gUFIsIEdSQVBIX1ksIFBSLCBHUkFQSF9IRUlHSFQgKTtcclxuXHJcblx0XHRcdGNvbnRleHQuZmlsbFN0eWxlID0gYmc7XHJcblx0XHRcdGNvbnRleHQuZ2xvYmFsQWxwaGEgPSAwLjk7XHJcblx0XHRcdGNvbnRleHQuZmlsbFJlY3QoIEdSQVBIX1ggKyBHUkFQSF9XSURUSCAtIFBSLCBHUkFQSF9ZLCBQUiwgcm91bmQoICggMSAtICggdmFsdWUgLyBtYXhWYWx1ZSApICkgKiBHUkFQSF9IRUlHSFQgKSApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0fTtcclxuXHJcbn07IiwiZXhwb3J0IGNvbnN0IG1hcDEgPSB7XHJcbiAgICBtYXBIZWlnaHQ6IDMyLFxyXG4gICAgbWFwV2lkdGg6IDMyLFxyXG4gICAgc3VyZmFjZTogXCJcIlxyXG59XHJcbm1hcDEuc3VyZmFjZSA9ICBcIiMjIyMjIyMjIy4uLi4uLi4jIyMjIyMjIyMuLi4uLi4uXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMuLi4uLi4uLi4uLi4uLi4jLi4uLi4uLi4uLi4uLi4uXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMuLi4uLi4uIyMjIyMjIyMjLi4uLi4uLiMjIyMjIyMjXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMuLi4uLi4uLi4uLi4uLiMjLi4uLi4uLi4uLi4uLi4jXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMuLi4uLi4jIy4uLi4uLiMjLi4uLi4uIyMuLi4uLi4jXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMuLi4uLi4jIy4uLi4uLi4uLi4uLi4uIyMuLi4uLi4jXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMuLi4uLi4uLi4uLi4uLiMjLi4uLi4uLi4uLi4uLi4jXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMjIy4uLi4uLi4uLi4uLiMjIyMuLi4uLi4uLi4uLi4jXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMjLi4uLi4uLi4uLi4uLiMjIy4uLi4uLi4uLi4uLi4jXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMuLi4uLi4uLi4uLi4jIyMjLi4uLi4uLi4uLi4uIyMjXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4jXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMuLi4uLi4uLi4uLi4uLiMjLi4uLi4uLi4uLi4uLi4jXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMuLi4uLi4uLi4uLi4uLiMjLi4uLi4uLi4uLi4uLi4jXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMuLi4uLi4uLi4uLiMjIyMjLi4uLi4uLi4uLi4jIyMjXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4jXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMjIy4uIyMjIy4uLi4jIyMjIyMjIy4uLi4jIyMjIyMjXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMjIyMuIyMjIy4uLi4uLi4jIyMjIyMuLi4uLi4uLi4uXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMuLi4uLi4uLi4uLi4uLi4jLi4uLi4uLi4uLi4uLi4uXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMuLi4uLi4uIyMjIyMjIyMjLi4uLi4uLiMjLi4jIyMjXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMuLi4uLi4uLi4uLi4uLiMjLi4uLi4uLi4uLi4uLi4jXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMuLi4uLi4jIy4uLi4uLiMjLi4uLi4uLiMuLi4uLi4jXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMuLi4uLi4jIy4uLi4uLiMjLi4uLi4uIyMuLi4uLi4jXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMuLi4uLi4uLi4uLi4uLiMjLi4uLi4uLi4uLi4uLi4jXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMjIy4uLi4uLi4uLi4uLiMjIyMuLi4uLi4uLi4uLi4jXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMjLi4uLi4uLi4uLi4uLiMjIy4uLi4uLi4uLi4uLi4jXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMuLi4uLi4uLi4uLi4jIyMjLi4uLi4uLi4uLi4uIyMjXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4jXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4jXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMuLi4uLi4uLi4uLi4uLiMjLi4uLi4uLi4uLi4uLi4jXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMuLi4uLi4uLi4uLiMjLi4uLi4uLi4uLi4uLi4jIyMjXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMuLi4uLi4uLi4uLi4uLiMjLi4uLi4uLi4uLi4uLi4jXCI7XHJcbm1hcDEuc3VyZmFjZSArPSBcIiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXCI7IiwiaW1wb3J0IHsgR2V0QXNzZXQgfSBmcm9tIFwiLi9HbG9iYWxzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVW5pdCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCB2eCwgdnksIGFzc2V0KSB7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuXHRcdHRoaXMueSA9IHk7XHJcblx0XHR0aGlzLnZ4ID0gdng7XHJcblx0XHR0aGlzLnZ5ID0gdnk7XHJcblx0XHR0aGlzLnJlbW92ZSA9IGZhbHNlO1xyXG5cdFx0aWYodHlwZW9mIGFzc2V0ICE9PSBcInVuZGVmaW5lZFwiICYmIGFzc2V0ICE9PSBudWxsKXtcclxuXHRcdFx0dGhpcy5hc3NldCA9IEdldEFzc2V0KGFzc2V0KTtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0cmVtb3ZlKCkge1xyXG5cdFx0dGhpcy5yZW1vdmUgPSB0cnVlO1xyXG5cdH1cclxufSIsImltcG9ydCB7IEFzc2V0IH0gZnJvbSBcIi4uL0Fzc2V0XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVW5pY29kZUFzc2V0IGV4dGVuZHMgQXNzZXQge1xyXG4gICAgY29uc3RydWN0b3IobmFtZSwgY2hhcm1hcCwgc2NhbGUpIHtcclxuICAgICAgICBzdXBlcihuYW1lKTtcclxuICAgICAgICB0aGlzLmNoYXJtYXAgPSBjaGFybWFwO1xyXG4gICAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnJvd3MgPSB0aGlzLmNoYXJtYXAubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuY29scyA9IHRoaXMuY2hhcm1hcFswXS5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy5zY2FsZSA9IHNjYWxlIHx8IDEwO1xyXG4gICAgfVxyXG4gICAgZ2V0Q2hhckF0KHJvdywgY29sKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhcm1hcFtyb3ddW2NvbF07XHJcbiAgICB9XHJcbiAgICBzZXRDaGFyQXQocm93LCBjb2wsIGNoYXIpIHtcclxuICAgICAgICB0aGlzLmNoYXJtYXBbcm93XVtjb2xdID0gY2hhcjtcclxuICAgIH1cclxuICAgIGdldEhlaWdodCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yb3dzICogdGhpcy5zY2FsZTtcclxuICAgIH1cclxuICAgIGdldFdpZHRoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbHMgKiB0aGlzLnNjYWxlO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIEZpbGVMb2FkZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBsb2FkSlNPTihmaWxlTmFtZSwgY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgeG9iaiA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgIHhvYmoub3ZlcnJpZGVNaW1lVHlwZShcImFwcGxpY2F0aW9uL2pzb25cIik7XHJcbiAgICAgICAgeG9iai5vcGVuKCdHRVQnLCBmaWxlTmFtZSwgdHJ1ZSk7XHJcbiAgICAgICAgeG9iai5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKHhvYmoucmVhZHlTdGF0ZSA9PSA0ICYmIHhvYmouc3RhdHVzID09IFwiMjAwXCIpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyAub3BlbiB3aWxsIE5PVCByZXR1cm4gYSB2YWx1ZSBidXQgc2ltcGx5IHJldHVybnMgdW5kZWZpbmVkIGluIGFzeW5jIG1vZGUgc28gdXNlIGEgY2FsbGJhY2tcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHhvYmoucmVzcG9uc2VUZXh0KTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgeG9iai5zZW5kKG51bGwpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tIFwiLi9SZW5kZXJpbmcvUmVuZGVyZXJcIjtcclxuaW1wb3J0IHsgQXJlQWxsQXNzZXRzTG9hZGVkIH0gZnJvbSBcIi4vR2xvYmFsc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE5vdDNEIHtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudEVsZW1lbnQsIGRyaXZlciwgc3RhdHMpIHtcclxuICAgICAgICB0aGlzLnN0YXRzID0gISFzdGF0cztcclxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFJlbmRlcmVyKHBhcmVudEVsZW1lbnQsIGRyaXZlcik7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFjaztcclxuICAgICAgICB0aGlzLmNhbGxiYWNrQ29udGV4dDtcclxuICAgICAgICB0aGlzLmNhbGxiYWNrID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2tDb250ZXh0ID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIG1haW5Mb29wKCkge1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgICAgICBpZihzZWxmLnVzZVN0YXRzKSBzZWxmLnN0YXRzLmJlZ2luKCk7XHJcbiAgICAgICAgc2VsZi5jYWxsYmFjay5jYWxsKHNlbGYuY2FsbGJhY2tDb250ZXh0KTtcclxuICAgICAgICBpZihzZWxmLnVzZVN0YXRzKSBzZWxmLnN0YXRzLmVuZCgpO1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShzZWxmLm1haW5Mb29wLmJpbmQoc2VsZikpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0KGNhbGxiYWNrKSB7XHJcbiAgICAgICAgaWYoQXJlQWxsQXNzZXRzTG9hZGVkKCkpIHtcclxuICAgICAgICAgICAgaWYoISFjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5tYWluTG9vcCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydChjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQ29udHJvbHMgfSBmcm9tIFwiLi9Db250cm9scy5qc1wiO1xyXG5pbXBvcnQgeyBVSSB9IGZyb20gXCIuL1VJXCI7XHJcblxyXG5pbXBvcnQgeyBTdGF0cyB9IGZyb20gXCIuL1V0aWxzL1N0YXRzXCI7XHJcbmltcG9ydCB7IG1hcDEgfSBmcm9tIFwiLi9jb25maWdcIjtcclxuaW1wb3J0IHsgSW1hZ2VBc3NldCB9IGZyb20gXCIuL1JlbmRlcmluZy9JbWFnZUFzc2V0XCI7XHJcbmltcG9ydCB7IEdMT0JBTF9BU1NFVFMsIFNldEFsbExvYWRlZCB9IGZyb20gXCIuL0dsb2JhbHNcIjtcclxuaW1wb3J0IHsgVW5pdCB9IGZyb20gXCIuL1VuaXRcIjtcclxuaW1wb3J0IHsgVW5pY29kZUFzc2V0IH0gZnJvbSBcIi4vUmVuZGVyaW5nL1VuaWNvZGVBc3NldFwiO1xyXG5pbXBvcnQgeyBGaWxlTG9hZGVyIH0gZnJvbSBcIi4vRmlsZUxvYWRlci5qc1wiO1xyXG5pbXBvcnQgeyBOb3QzRCB9IGZyb20gXCIuL05vdDNELmpzXCI7XHJcbmltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSBcIi4vUmVuZGVyaW5nL1JlbmRlcmVyLmpzXCI7XHJcblxyXG5pbnRlcmZhY2UgSU1vdmVtZW50IHtcclxuICAgIG1vdmVtZW50WDogbnVtYmVyO1xyXG4gICAgbW92ZW1lbnRZOiBudW1iZXI7XHJcbn1cclxuXHJcbmNsYXNzIEdhbWUge1xyXG4gICAgZW5naW5lOiBOb3QzRDtcclxuICAgIHN0YXRzOiBhbnk7XHJcbiAgICByZW5kZXJlcjogUmVuZGVyZXI7XHJcbiAgICBmRk9WOiBudW1iZXI7XHJcbiAgICBmU3BlZWQ6IG51bWJlcjtcclxuICAgIGZEZXB0aDogbnVtYmVyO1xyXG4gICAgc2NyZWVuV2lkdGg6IG51bWJlcjtcclxuICAgIHNjcmVlbkhlaWdodDogbnVtYmVyO1xyXG4gICAgZkRlcHRoQnVmZmVyOiBudW1iZXJbXTtcclxuICAgIHBsYXllcjogeyBwb3NYOiBudW1iZXI7IHBvc1k6IG51bWJlcjsgYW5nbGU6IG51bWJlcjsgeUFuZ2xlOiBudW1iZXI7IH07XHJcbiAgICBtYXA6IHsgbWFwSGVpZ2h0OiBudW1iZXI7IG1hcFdpZHRoOiBudW1iZXI7IHN1cmZhY2U6IHN0cmluZzsgfTtcclxuICAgIHVpOiBVSTtcclxuICAgIG1pZGRsZUNvcnJkaW5hdGVzOiB7fTtcclxuICAgIHVuaXRzOiBVbml0W107XHJcbiAgICBuQ2VpbGluZzogbnVtYmVyO1xyXG4gICAgbkZsb29yOiBudW1iZXI7XHJcbiAgICBjb250cm9sczogQ29udHJvbHM7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUgPSBuZXcgTm90M0QoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIiksIG51bGwsIHRydWUpO1xyXG4gICAgICAgIC8vIGJlbmNobWFyayBzY3JpcHRcclxuICAgICAgICB0aGlzLnN0YXRzID0gU3RhdHM7XHJcbiAgICAgICAgdGhpcy5zdGF0cy5zaG93UGFuZWwoMCk7IC8vIDA6IGZwcywgMTogbXMsIDI6IG1iLCAzKzogY3VzdG9tXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCggdGhpcy5zdGF0cy5kb20gKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHRoaXMuZW5naW5lLnJlbmRlcmVyO1xyXG5cclxuICAgICAgICB0aGlzLmZGT1YgPSBNYXRoLlBJIC8gNC4wO1x0Ly8gZmllbGQgb2YgVmlld1xyXG4gICAgICAgIHRoaXMuZlNwZWVkID0gMjtcclxuICAgICAgICB0aGlzLmZEZXB0aCA9IDI1O1x0XHRcdC8vIG1heGltdW0gcmVuZGVyaW5nIGRpc3RhbmNlXHJcblxyXG4gICAgICAgIHRoaXMuc2NyZWVuV2lkdGggPSB0aGlzLnJlbmRlcmVyLmdldFdpZHRoKCk7XHJcbiAgICAgICAgdGhpcy5zY3JlZW5IZWlnaHQgPSB0aGlzLnJlbmRlcmVyLmdldEhlaWdodCgpO1xyXG5cdFx0dGhpcy5mRGVwdGhCdWZmZXIgPSBbXTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSB7XHJcbiAgICAgICAgICAgIHBvc1g6IDcuMTgzODAwNTE3NjI4ODk1LCBwb3NZOiA5LjkyMDE3MjA1MjcwNjEyNSxcclxuICAgICAgICAgICAgYW5nbGU6IDAuNTAwMDAwMDAwMDAwMDAyMyxcclxuICAgICAgICAgICAgeUFuZ2xlOiAwXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5tYXAgPSBtYXAxO1xyXG4gICAgICAgIHRoaXMudWkgPSBuZXcgVUkodGhpcy5tYXAsIHRoaXMucGxheWVyKTtcclxuICAgICAgICB0aGlzLm1pZGRsZUNvcnJkaW5hdGVzID0ge307XHJcbiAgICAgICAgR0xPQkFMX0FTU0VUUy5wdXNoKG5ldyBJbWFnZUFzc2V0KFwid2FsbF9zcHJpdGVcIiwgXCIuL3Nwcml0ZXMvd2FsbDMuYm1wXCIpKTtcclxuICAgICAgICBHTE9CQUxfQVNTRVRTLnB1c2gobmV3IEltYWdlQXNzZXQoXCJsYW1wXCIsIFwiLi9zcHJpdGVzL2xhbXAtbWluMi5wbmdcIikpO1xyXG5cclxuICAgICAgICB0aGlzLnVuaXRzID0gW107XHJcblxyXG4gICAgICAgIFNldEFsbExvYWRlZChmYWxzZSk7XHJcblxyXG4gICAgICAgIEZpbGVMb2FkZXIubG9hZEpTT04oXCIuLi9hc3NldHMvb2JqZWN0cy9sYW1wLmpzb25cIiwgKGpzb25UZXh0KSA9PiB7XHJcbiAgICAgICAgICAgIEdMT0JBTF9BU1NFVFMucHVzaChuZXcgVW5pY29kZUFzc2V0KFwibGFtcF9jbVwiLCBKU09OLnBhcnNlKGpzb25UZXh0KSwgMC41KSk7XHJcbiAgICAgICAgICAgIHRoaXMudW5pdHMucHVzaChuZXcgVW5pdCgxMSwgMTQsIDAsIDAsIFwibGFtcF9jbVwiKSk7XHJcblxyXG4gICAgICAgICAgICBGaWxlTG9hZGVyLmxvYWRKU09OKFwiLi4vYXNzZXRzL29iamVjdHMvcm9ja2V0Lmpzb25cIiwgKGpzb25UZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBHTE9CQUxfQVNTRVRTLnB1c2gobmV3IFVuaWNvZGVBc3NldChcInJvY2tldFwiLCBKU09OLnBhcnNlKGpzb25UZXh0KSwgMC41KSk7XHJcbiAgICAgICAgICAgICAgICBTZXRBbGxMb2FkZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmVuZ2luZS5jYWxsYmFjayA9IHRoaXMubW92ZTtcclxuICAgICAgICB0aGlzLmVuZ2luZS5jYWxsYmFja0NvbnRleHQgPSBzZWxmO1xyXG4gICAgICAgIHRoaXMuZW5naW5lLnN0YXJ0KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVDb250cm9scygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG1vdmUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci55QW5nbGUgPSB0aGlzLnBsYXllci55QW5nbGU7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXJHbG9iYWxzKCk7XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuYmVnaW5PZmZTY3JlZW4oKTtcclxuICAgICAgICB0aGlzLm1haW5TY3JlZW4oMCwgdGhpcy5zY3JlZW5XaWR0aCk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVPYmplY3RzKCk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5lbmRPZmZTY3JlZW4oKTtcclxuXHJcbiAgICAgICAgdGhpcy51aS5kcmF3VUkodGhpcy5taWRkbGVDb3JyZGluYXRlcywgdGhpcy51bml0cyk7XHJcbiAgICB9XHJcblxyXG4gICAgbWFpblNjcmVlbihmcm9tOiBudW1iZXIsIHRvOiBudW1iZXIpOiBhbnkge1xyXG4gICAgICAgIGxldCBmUmF5QW5nbGU6IG51bWJlciA9IDA7XHJcbiAgICAgICAgbGV0IHN0ZXBTaXplOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGxldCBkaXN0YW5jZVRvV2FsbDogbnVtYmVyID0gMDtcclxuICAgICAgICBsZXQgYkhpdFdhbGw6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBsZXQgZXllWDogbnVtYmVyID0gMDtcclxuICAgICAgICBsZXQgZXllWTogbnVtYmVyID0gMDtcclxuICAgICAgICBsZXQgblRlc3RYOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGxldCBuVGVzdFk6IG51bWJlciA9IDA7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGk6IG51bWJlciA9IGZyb207IGkgPCB0bzsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZSYXlBbmdsZSA9ICh0aGlzLnBsYXllci5hbmdsZSAtIHRoaXMuZkZPViAvIDIuMCkgKyAoaSAvIHRoaXMuc2NyZWVuV2lkdGgpICogdGhpcy5mRk9WO1xyXG4gICAgICAgICAgICBzdGVwU2l6ZSA9IDAuMDU7XHJcbiAgICAgICAgICAgIGRpc3RhbmNlVG9XYWxsID0gMC4wO1xyXG4gICAgICAgICAgICBiSGl0V2FsbCA9IGZhbHNlO1x0XHQvLyBzZXQgd2hlbiByYXkgaGl0cyB3YWxsIGJsb2NrXHJcbiAgICAgICAgICAgIGV5ZVggPSBNYXRoLnNpbihmUmF5QW5nbGUpOyAvLyB1bml0IHZlY3RvciBmb3IgcmF5IGluIHBsYXllciBzcGFjZVxyXG4gICAgICAgICAgICBleWVZID0gTWF0aC5jb3MoZlJheUFuZ2xlKTtcclxuICAgICAgICAgICAgaWYoaSA9PT0gdG8gLyAyKSB7IHRoaXMubWlkZGxlQ29ycmRpbmF0ZXMgPSB7eDogZXllWCwgeTogZXllWX07IH1cclxuXHJcbiAgICAgICAgICAgIGxldCBmU2FtcGxlWDogbnVtYmVyID0gMC4wO1xyXG4gICAgICAgICAgICAvLyBpbmNyZW1lbnRhbGx5IGNhc3QgcmF5IGZyb20gcGxheWVyLCBhbG9uZyByYXkgYW5nbGUsIHRlc3RpbmcgZm9yXHJcbiAgICAgICAgICAgIC8vIGludGVyc2VjdGlvbiB3aXRoIGEgYmxvY2tcclxuICAgICAgICAgICAgd2hpbGUgKCFiSGl0V2FsbCAmJiBkaXN0YW5jZVRvV2FsbCA8IHRoaXMuZkRlcHRoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgZGlzdGFuY2VUb1dhbGwgKz0gc3RlcFNpemU7XHJcbiAgICAgICAgICAgICAgICBuVGVzdFggPSBNYXRoLmZsb29yKHRoaXMucGxheWVyLnBvc1ggKyBleWVYICogZGlzdGFuY2VUb1dhbGwpO1xyXG4gICAgICAgICAgICAgICAgblRlc3RZID0gTWF0aC5mbG9vcih0aGlzLnBsYXllci5wb3NZICsgZXllWSAqIGRpc3RhbmNlVG9XYWxsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyB0ZXN0IGlmIHJheSBpcyBvdXQgb2YgYm91bmRzXHJcbiAgICAgICAgICAgICAgICBpZiAoblRlc3RYIDwgMCB8fCBuVGVzdFggPj0gdGhpcy5tYXAubWFwV2lkdGggfHwgblRlc3RZIDwgMCB8fCBuVGVzdFkgPj0gdGhpcy5tYXAubWFwSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYkhpdFdhbGwgPSB0cnVlO1x0XHRcdC8vIGp1c3Qgc2V0IGRpc3RhbmNlIHRvIG1heGltdW0gZGVwdGhcclxuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZVRvV2FsbCA9IHRoaXMuZkRlcHRoO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyByYXkgaXMgaW5ib3VuZHMgc28gdGVzdCB0byBzZWUgaWYgdGhlIHJheSBjZWxsIGlzIGEgd2FsbCBibG9ja1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hcC5zdXJmYWNlW01hdGgucm91bmQoblRlc3RYICogdGhpcy5tYXAubWFwV2lkdGggKyBuVGVzdFkpXSA9PT0gXCIjXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmF5IGhhcyBoaXQgd2FsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiSGl0V2FsbCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkZXRlcm1pbmUgd2hlcmUgcmF5IGhhcyBoaXQgd2FsbC4gQnJlYWsgQmxvY2sgYm91bmRhcnlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW50IDQgbGluZSBzZWdtZW50c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZkJsb2NrTWlkWDogbnVtYmVyID0gblRlc3RYICsgMC41O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZkJsb2NrTWlkWTogbnVtYmVyID0gblRlc3RZICsgMC41O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZUZXN0UG9pbnRYOiBudW1iZXIgPSB0aGlzLnBsYXllci5wb3NYICsgZXllWCAqIGRpc3RhbmNlVG9XYWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZlRlc3RQb2ludFk6IG51bWJlciA9IHRoaXMucGxheWVyLnBvc1kgKyBleWVZICogZGlzdGFuY2VUb1dhbGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZlRlc3RBbmdsZTogbnVtYmVyID0gTWF0aC5hdGFuMigoZlRlc3RQb2ludFkgLSBmQmxvY2tNaWRZKSwgKGZUZXN0UG9pbnRYIC0gZkJsb2NrTWlkWCkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZUZXN0QW5nbGUgPj0gLTMuMTQxNTkgKiAwLjI1ICYmIGZUZXN0QW5nbGUgPCAzLjE0MTU5ICogMC4yNSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZlNhbXBsZVggPSBmVGVzdFBvaW50WSAtIG5UZXN0WTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZlRlc3RBbmdsZSA+PSAzLjE0MTU5ICogMC4yNSAmJiBmVGVzdEFuZ2xlIDwgMy4xNDE1OSAqIDAuNzUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZTYW1wbGVYID0gZlRlc3RQb2ludFggLSBuVGVzdFg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZUZXN0QW5nbGUgPCAtMy4xNDE1OSAqIDAuMjUgJiYgZlRlc3RBbmdsZSA+PSAtMy4xNDE1OSAqIDAuNzUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZTYW1wbGVYID0gZlRlc3RQb2ludFggLSBuVGVzdFg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZUZXN0QW5nbGUgPj0gMy4xNDE1OSAqIDAuNzUgfHwgZlRlc3RBbmdsZSA8IC0zLjE0MTU5ICogMC43NSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZlNhbXBsZVggPSBmVGVzdFBvaW50WSAtIG5UZXN0WTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmU2FtcGxlWCAqPSAxMDA7XHJcbiAgICAgICAgICAgIGZTYW1wbGVYID0gTWF0aC5mbG9vcihmU2FtcGxlWCAvICgxMDAgLyAyODgpKTtcclxuICAgICAgICAgICAgLy8gY2FsY3VsYXRlIGRpc3RhbmNlIHRvIGNlaWxpbmcgYW5kIGZsb29yXHJcbiAgICAgICAgICAgIHRoaXMubkNlaWxpbmcgPSAodGhpcy5zY3JlZW5IZWlnaHQgLyAyLjApIC0gKHRoaXMuc2NyZWVuSGVpZ2h0IC8gZGlzdGFuY2VUb1dhbGwpO1xyXG4gICAgICAgICAgICB0aGlzLm5GbG9vciA9IHRoaXMuc2NyZWVuSGVpZ2h0IC0gdGhpcy5uQ2VpbGluZztcclxuXHJcbiAgICAgICAgICAgIC8vIHNoYWRlciB3YWxscyBiYXNlZCBvbiBkaXN0YW5jZVxyXG4gICAgICAgICAgICBsZXQgc2hhZGVMZXZlbDogc3RyaW5nID0gKGRpc3RhbmNlVG9XYWxsICogMC4xKS50b0ZpeGVkKDIpO1xyXG5cdFx0XHR0aGlzLmZEZXB0aEJ1ZmZlcltpXSA9IGRpc3RhbmNlVG9XYWxsO1xyXG5cclxuICAgICAgICAgICAgbGV0IGhlaWdodFRvRHJhdzogbnVtYmVyID0gMDtcclxuICAgICAgICAgICAgbGV0IGZpcnN0WTogbnVtYmVyID0gLTE7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHk6IG51bWJlciA9IDA7IHkgPCB0aGlzLnNjcmVlbkhlaWdodDsgeSsrKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBlYWNoIFJvd1xyXG4gICAgICAgICAgICAgICAgaWYgKHkgPD0gdGhpcy5uQ2VpbGluZykgeyAvLyByb29mXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHkgPiB0aGlzLm5DZWlsaW5nICYmIHkgPD0gdGhpcy5uRmxvb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHRUb0RyYXcgKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICBmaXJzdFkgPSBmaXJzdFkgPT09IC0xID8geSA6IGZpcnN0WTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXJJbWFnZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgWDogZlNhbXBsZVgsIFk6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgVzogMSwgSDogMjg4LFxyXG4gICAgICAgICAgICAgICAgICAgIGk6IFwid2FsbF9zcHJpdGVcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGksIGZpcnN0WSxcclxuICAgICAgICAgICAgICAgIDEsIGhlaWdodFRvRHJhdywge1xyXG4gICAgICAgICAgICAgICAgICAgIHNoYWRlTGV2ZWw6IHNoYWRlTGV2ZWxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVPYmplY3RzKCk6IHZvaWQge1xyXG4gICAgICAgIGZvciAobGV0IGk6IG51bWJlciA9IDA7IGkgPCB0aGlzLnVuaXRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBvYmplY3Q6IFVuaXQgPSB0aGlzLnVuaXRzW2ldO1xyXG5cdFx0XHQvLyB1cGRhdGUgT2JqZWN0IFBoeXNpY3NcclxuXHRcdFx0b2JqZWN0LnggKz0gb2JqZWN0LnZ4ICogMC41O1xyXG5cdFx0XHRvYmplY3QueSArPSBvYmplY3QudnkgKiAwLjU7XHJcblxyXG5cdFx0XHQvLyBjaGVjayBpZiBvYmplY3QgaXMgaW5zaWRlIHdhbGwgLSBzZXQgZmxhZyBmb3IgcmVtb3ZhbFxyXG5cdFx0XHRpZiAodGhpcy5tYXAuc3VyZmFjZVtvYmplY3QueCAqIHRoaXMubWFwLm1hcFdpZHRoICsgb2JqZWN0LnldID09PSBcIiNcIikge1xyXG5cdFx0XHRcdG9iamVjdC5yZW1vdmUoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gY2FuIG9iamVjdCBiZSBzZWVuP1xyXG5cdFx0XHRsZXQgZlZlY1g6IG51bWJlciA9IChvYmplY3QueCkgLSB0aGlzLnBsYXllci5wb3NYO1xyXG4gICAgICAgICAgICBsZXQgZlZlY1k6IG51bWJlciA9IChvYmplY3QueSkgLSB0aGlzLnBsYXllci5wb3NZO1xyXG5cdFx0XHRsZXQgZkRpc3RhbmNlRnJvbVBsYXllcjogbnVtYmVyID0gTWF0aC5oeXBvdChmVmVjWCwgZlZlY1kpO1xyXG5cclxuXHRcdFx0bGV0IGZFeWVYOiBudW1iZXIgPSBNYXRoLnNpbih0aGlzLnBsYXllci5hbmdsZSk7XHJcblx0XHRcdGxldCBmRXllWTogbnVtYmVyID0gTWF0aC5jb3ModGhpcy5wbGF5ZXIuYW5nbGUpO1xyXG5cclxuXHRcdFx0Ly8gY2FsY3VsYXRlIGFuZ2xlIGJldHdlZW4gbGFtcCBhbmQgcGxheWVycyBmZWV0LCBhbmQgcGxheWVycyBsb29raW5nIGRpcmVjdGlvblxyXG5cdFx0XHQvLyB0byBkZXRlcm1pbmUgaWYgdGhlIGxhbXAgaXMgaW4gdGhlIHBsYXllcnMgZmllbGQgb2Ygdmlld1xyXG5cdFx0XHRsZXQgZk9iamVjdEFuZ2xlOiBudW1iZXIgPSBNYXRoLmF0YW4yKGZFeWVZLCBmRXllWCkgLSBNYXRoLmF0YW4yKGZWZWNZLCBmVmVjWCk7XHJcblx0XHRcdGlmIChmT2JqZWN0QW5nbGUgPCAtTWF0aC5QSSkge1xyXG5cdFx0XHRcdGZPYmplY3RBbmdsZSArPSAyLjAgKiBNYXRoLlBJO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChmT2JqZWN0QW5nbGUgPiBNYXRoLlBJKSB7XHJcbiAgICAgICAgICAgICAgICBmT2JqZWN0QW5nbGUgLT0gMi4wICogTWF0aC5QSTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bGV0IGJJblBsYXllckZPVjogYm9vbGVhbiA9IE1hdGguYWJzKGZPYmplY3RBbmdsZSkgPCAodGhpcy5mRk9WKSAvIDI7XHJcbiAgICAgICAgICAgIGxldCBzaGFkZUxldmVsOiBzdHJpbmcgPSAoZkRpc3RhbmNlRnJvbVBsYXllciAqIDAuMSkudG9GaXhlZCgyKTtcclxuXHJcblx0XHRcdGlmIChiSW5QbGF5ZXJGT1YgJiYgZkRpc3RhbmNlRnJvbVBsYXllciA+PSAwLjUgJiYgZkRpc3RhbmNlRnJvbVBsYXllciA8IHRoaXMuZkRlcHRoICYmICFvYmplY3QucmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB0T0RPOiBGaXggdGhpc1xyXG4gICAgICAgICAgICAgICAgbGV0IGZPYmplY3RDZWlsaW5nOiBudW1iZXIgPSAodGhpcy5zY3JlZW5IZWlnaHQgLyAyLjApIC0gdGhpcy5zY3JlZW5IZWlnaHQgLyAoZkRpc3RhbmNlRnJvbVBsYXllcik7XHJcblx0XHRcdFx0bGV0IGZPYmplY3RGbG9vcjogbnVtYmVyID0gdGhpcy5zY3JlZW5IZWlnaHQgLSBmT2JqZWN0Q2VpbGluZztcclxuXHRcdFx0XHRsZXQgZk9iamVjdEhlaWdodDogbnVtYmVyID0gZk9iamVjdEZsb29yIC0gZk9iamVjdENlaWxpbmc7XHJcblx0XHRcdFx0bGV0IGZPYmplY3RBc3BlY3RSYXRpbzogbnVtYmVyID0gb2JqZWN0LmFzc2V0LmdldEhlaWdodCgpIC8gb2JqZWN0LmFzc2V0LmdldFdpZHRoKCk7XHJcblx0XHRcdFx0bGV0IGZPYmplY3RXaWR0aDogbnVtYmVyID0gZk9iamVjdEhlaWdodCAvIGZPYmplY3RBc3BlY3RSYXRpbztcclxuICAgICAgICAgICAgICAgIGxldCBmTWlkZGxlT2ZPYmplY3Q6IG51bWJlciA9ICgwLjUgKiAoZk9iamVjdEFuZ2xlIC8gKHRoaXMuZkZPViAvIDIuMCkpICsgMC41KSAqIHRoaXMuc2NyZWVuV2lkdGg7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXJVbmljb2RlQXNzZXQoXHJcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmFzc2V0LCAvLyB0aGUgYXNzZXRcclxuICAgICAgICAgICAgICAgICAgICBmTWlkZGxlT2ZPYmplY3QgLSAoZk9iamVjdFdpZHRoIC8gMi4wKSwgZk9iamVjdENlaWxpbmcsICAvLyB4IGFuZCBZIGNvb3JkaW5hdGVzXHJcbiAgICAgICAgICAgICAgICAgICAgZk9iamVjdFdpZHRoLCBmT2JqZWN0SGVpZ2h0LCAvLyBkaW1lbnRpb25zXHJcbiAgICAgICAgICAgICAgICAgICAgZk1pZGRsZU9mT2JqZWN0LCAvLyBtaWRkbGUgb2YgdGhlIG9iamVjdFxyXG4gICAgICAgICAgICAgICAgICAgIGZEaXN0YW5jZUZyb21QbGF5ZXIsIC8vIGRpc3RhbmNlIGJldHdlZW4gcGxheWVyIGFuZCBvYmplY3RcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZEZXB0aEJ1ZmZlciwgLy8gdGhlIGRlcHRoIGJ1ZmZlclxyXG4gICAgICAgICAgICAgICAgICAgIHNoYWRlTGV2ZWwpOyAvLyB0aGUgc2hhZGUgbGV2ZWxcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUNvbnRyb2xzKCk6IGFueSB7XHJcbiAgICAgICAgdGhpcy5jb250cm9scyA9IG5ldyBDb250cm9scyh7XHJcbiAgICAgICAgICAgIHBvaW50ZXJMb2NrOiB0cnVlLFxyXG4gICAgICAgICAgICBjYW52YXM6IHRoaXMucmVuZGVyZXIuY2FudmFzLFxyXG4gICAgICAgICAgICBwb2ludGVyQ2FsbG91dDogKGU6IElNb3ZlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbihlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyB1cCBhcnJvdyBPUiBcIldcIiBrZXlcclxuICAgICAgICB0aGlzLmNvbnRyb2xzLmJpbmRLZXlzKFtcIjM4XCIsIFwiODdcIl0sICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIucG9zWCArPSB0aGlzLmNhbGNOZXh0UGxheWVyUG9zaXRpb25YKCk7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnBvc1kgKz0gdGhpcy5jYWxjTmV4dFBsYXllclBvc2l0aW9uWSgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jaGVja0ZvcldhbGwoKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIucG9zWCAtPSB0aGlzLmNhbGNOZXh0UGxheWVyUG9zaXRpb25YKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5wb3NZIC09IHRoaXMuY2FsY05leHRQbGF5ZXJQb3NpdGlvblkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGRvd24gYXJyb3cgT1IgXCJTXCIga2V5XHJcbiAgICAgICAgdGhpcy5jb250cm9scy5iaW5kS2V5cyhbXCI0MFwiLCBcIjgzXCJdLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICB0aGlzLnBsYXllci5wb3NYIC09IHRoaXMuY2FsY05leHRQbGF5ZXJQb3NpdGlvblgoKTtcclxuICAgICAgICAgICAgIHRoaXMucGxheWVyLnBvc1kgLT0gdGhpcy5jYWxjTmV4dFBsYXllclBvc2l0aW9uWSgpO1xyXG4gICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tGb3JXYWxsKCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLnBvc1ggKz0gdGhpcy5jYWxjTmV4dFBsYXllclBvc2l0aW9uWCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIucG9zWSArPSB0aGlzLmNhbGNOZXh0UGxheWVyUG9zaXRpb25ZKCk7XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gbGVmdCBhcnJvdyBPUiBcIkRcIiBrZXlcclxuICAgICAgICB0aGlzLmNvbnRyb2xzLmJpbmRLZXlzKFtcIjM3XCIsIFwiNjVcIl0sICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIucG9zWCArPSB0aGlzLmNhbGNOZXh0UGxheWVyUG9zaXRpb25YKCk7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnBvc1kgLT0gdGhpcy5jYWxjTmV4dFBsYXllclBvc2l0aW9uWSgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jaGVja0ZvcldhbGwoKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIucG9zWCAtPSB0aGlzLmNhbGNOZXh0UGxheWVyUG9zaXRpb25YKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5wb3NZICs9IHRoaXMuY2FsY05leHRQbGF5ZXJQb3NpdGlvblkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIHJpZ2h0IGFycm93IE9SIFwiQVwiIGtleVxyXG4gICAgICAgIHRoaXMuY29udHJvbHMuYmluZEtleXMoW1wiMzlcIiwgXCI2OFwiXSwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllci5wb3NYIC09IHRoaXMuY2FsY05leHRQbGF5ZXJQb3NpdGlvblgoKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIucG9zWSArPSB0aGlzLmNhbGNOZXh0UGxheWVyUG9zaXRpb25ZKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrRm9yV2FsbCgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5wb3NYICs9IHRoaXMuY2FsY05leHRQbGF5ZXJQb3NpdGlvblgoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLnBvc1kgLT0gdGhpcy5jYWxjTmV4dFBsYXllclBvc2l0aW9uWSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udHJvbHMuYmluZE1vdXNlZG93bigoKSA9PiB7XHJcblx0XHRcdGxldCB2eDogbnVtYmVyID0gTWF0aC5zaW4odGhpcy5wbGF5ZXIuYW5nbGUpICogMC44O1xyXG5cdFx0XHRsZXQgdnk6IG51bWJlciA9IE1hdGguY29zKHRoaXMucGxheWVyLmFuZ2xlKSAqIDAuODtcclxuICAgICAgICAgICAgdGhpcy51bml0cy5wdXNoKG5ldyBVbml0KHRoaXMucGxheWVyLnBvc1gsIHRoaXMucGxheWVyLnBvc1gsIHZ4LCB2eSwgXCJyb2NrZXRcIikpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNhbGNOZXh0UGxheWVyUG9zaXRpb25YKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguc2luKHRoaXMucGxheWVyLmFuZ2xlKSAqIHRoaXMuZlNwZWVkICogMC4xO1xyXG4gICAgfVxyXG5cclxuICAgIGNhbGNOZXh0UGxheWVyUG9zaXRpb25ZKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguY29zKHRoaXMucGxheWVyLmFuZ2xlKSAqIHRoaXMuZlNwZWVkICogMC4xO1xyXG4gICAgfVxyXG5cclxuICAgIGNoZWNrRm9yV2FsbCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tYXAuc3VyZmFjZVtNYXRoLmZsb29yKHRoaXMucGxheWVyLnBvc1gpICogdGhpcy5tYXAubWFwV2lkdGggKyBNYXRoLmZsb29yKHRoaXMgIC5wbGF5ZXIucG9zWSldID09PSBcIiNcIjtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVQb3NpdGlvbihlOiBJTW92ZW1lbnQpOiB2b2lkIHtcclxuICAgICAgICBpZihlLm1vdmVtZW50WCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuYW5nbGUgKz0gKGUubW92ZW1lbnRYKSAqIDAuMDA1O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihlLm1vdmVtZW50WCA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuYW5nbGUgKz0gKCBlLm1vdmVtZW50WCkgKiAwLjAwNTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoZS5tb3ZlbWVudFkgPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnlBbmdsZSArPSAoZS5tb3ZlbWVudFkpICogMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoZS5tb3ZlbWVudFkgPCAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnlBbmdsZSArPSAoIGUubW92ZW1lbnRZKSAqIDE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vLyAoKCkgPT4gIHtcclxuLy8gICAgIHdpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXVudXNlZC1leHByZXNzaW9uXHJcbiAgICAgICAgbmV3IEdhbWUoKTtcclxuLy8gICAgIH07XHJcbi8vIH0pKCk7Il0sInNvdXJjZVJvb3QiOiIifQ==